---
layout: default
title: Notes
---

## 创新与企业家精神

### 改变价值和特征

> 西方经济学中是用“效用”一词来描述人们对物品有用性的主观感受。萨伊认为 “商品满足人类需要的性能叫做效用，所谓生产，不是创造物质，而是创造效用”。

### 公共服务机构

> 公共服务机构的“成功”标准就是获取更多的预算拨款，而不是取得成果。.. 公共服务机构绝不承认失败。更糟糕的是，它也绝不承认目标已经达成的事实。
> 
> 公共服务机构的存在就是要 “做好事”，这意味着它们往往将自己的工作看成一种绝对道德义务，而不是要用成本/利润来计算的经济任务。... 这意味着公共服务机构力图规模最大化而非最优化。
> 
> 如果公共服务机构固守那些在变动环境中无法实施的计划与方案行事，就会更无法实现其使命，结果就是它们更不愿也不能放弃这些永远不能实现的使命。渐渐地，它们的处事方式就会像 13 世纪的封建贵族一样，当他们丧失了所有的社会功能之后，只能寄人篱下，然后运用权力去妨碍和剥削别人。它们将会变得自以为是，逐渐丧失合法地位。

### 禁忌

> 首先就是不要太聪明，创新必须能由普通人来操作，而且，如果创新想要达到一定规模和重要地位的话，就必须使那些笨人也能操作。毕竟，能力低下者是唯一数量充足且取之不尽的来源。

### 有目的的创新

> 事实上，创新活动本身就创造了资源。人类在发现自然界中某种物质的用途，并赋予它经济价值之前，“资源” 这种东西是根本不存在的。那时，每一种植物都是杂草，每种矿物都是岩石而已。
> 
> 凡是能使现有资源的财富生产潜力发生改变的事物都足以构成创新。
> 
> 真正使学校教育遍及世界各地的，不是对教育价值的普遍承诺，也不是对在校教室进行的系统化培训或灌输的教育理论，而是一项不起眼的创新：教科书。... 如果没有教科书，那么即使是一个非常优秀的教师，一次也只能教一两个学生；但有了教科书之后，即使是一个平庸的教师，也能够将一些知识灌输到三四十个学生的头脑中。
> 
> 分期付款方式完全改变了经济，任何地方只要引进了分期付款制度，它就能将当地的经济从供给驱动型转变为需求驱动型，而无需顾及当地的生产力水平如何；现代的医院起源于 18 世纪欧中启蒙运动时期所发生的社会创新，它对医疗保健的影响，远远大于许多其他医学上的进步。
> 
> 科技能够以较低的成本从国外引进，并且不会带来多少文化风险；而体制相反却需要有文化的基底才能茁壮成长。
> 
> 大约在 1880 年以前，发明带有浓厚的神秘色彩：19 世纪早期的书籍不断地谈到“灵光乍现”。而发明者本人则是一个既浪漫又荒谬的人物，独自在孤寂的阁楼里苦思冥想。到了1914 年第一次世界大战爆发时，“发明”已经逐渐变成了“研究”，成为了一项系统化的、有目的的活动。这种活动经过精心的策划与组织，无论是所达到的目标还是在可获得的成果方面都有高度的可预测性。
> 
> 一个看似伟大的创新，结果可能除了技术精湛以外什么也不是；一个普通智慧的创新，例如麦当劳所做的创新活动，反而可能演变成惊人且获利丰厚的事业。

### 引言

> 第二次世界大战以后，科技发展的模式转变为一种生物的过程，主要研究在某个有机体内部所发生的情况。在一个有机体内，过程已经不再按照物理学家所解释的那样，围绕能量组织在一起，而是围绕信息组织在一起。
> 
> 康德拉杰夫断言，每隔 50 年，科技发展的曲线将达到顶峰。在这一次周期的最先 20 年里，最新科技进步所带来的几种高成长产业似乎表现的异常出色，但是这些产业所创造的空前巨额利润，其实只不过是对已经停止增长的产业所不再需要的资本加以回笼而已。这种高利润的情况从来不会持续 20 年以上，随之而来的就是突发的经济危机，通常会经由某种恐慌发出预兆，接下来就是长达 20 年的经济停滞现象，在这段时间里，刚出现的新科技还无法产生足够多的工作岗位，也无法促进经济再度增长，而且没有人能够扭转这一局势，政府尤其对此无能为力。

## Cassandra

### Performance Tuning

> However, it's recommaned that you store that datafiles and the commit logs on sparate hard disks for maximum performance.
> 
> commit log 最好写到单独的磁盘，ssd 该最好。
> 
> you might wang to update the concurrent_reads setting immediately before you start your server. That's because the concurrent_reads setting is optimal at two threads per processor core. By default, this setting is 8, assuming a fore-core box.
> 
> concurrent_reads 最好设置为 CPU 核数 * 2
> 
> the concurrent_writes setting behaves somewhat differently. This should match the number of clients that will write concurrently to the server. If cassandra is backing a web application server, you can tune this setting from its default 32 to match the number of threads the application server has available to connect to Cassandra.
> 
> concurrent_writes 最好设置为应用程序的连接数。
> 
> The keys_cached setting indicates the number of key locations—not key values—that will be saved in memory. This can be specified as a fractional value (a number between 0 and 1) or as an integer. If you use a fraction, you’re indicating a percentage of keys to cache, and an integer value indicates an absolute number of keys whose locations will be cached.
> 
> This setting will consume considerable memory, but can be a good trade-off if your locations are not hot already.
> 
> 
> 相比 bitcask 把索引整个放在内存里，cassandra 把它视为一个缓存，可以设置缓存键的比率或者数量。
> 
> The purpose of disk_access_mode is to enable memory mapped files so that the oper- ating system can cache reads, thus reducing the load on Cassandra’s internal caches. This sounds great, but in practice, disk_access_mode is one of the less-useful settings, and at this point doesn’t work exactly as was originally envisioned. This may be im- proved in the future, but it is just as likely that the setting will be removed. Certainly feel free to play around with it, but you might not see much difference.
> 
> 
> 使用 MMap 读取磁盘对性能提升意义不大。
> 
> 不过 sqlite4 的 lsm 模块说 mmap() 相比 read() 要快的多，可能是因为 sqlite4 lsm 没有自己的缓存管理机制：
> 
>  LSM_CONFIG_MMAP
> 
>     If LSM is running on a system with a 64-bit address space, this option may be set to either 1 (true) or 0 (false). On a 32-bit platform, it is always set to 0.
> 
>     If it is set to true, the entire database file is memory mapped. Or, if it is false, data is accessed using ordinary OS file read and write primitives. Memory mapping the database file can significantly improve the performance of read operations, as database pages do not have to be copied from operating system buffers into user space buffers before they can be examined. 
> 
> The rows_cached setting specifies the number of rows that will be cached. ... You’ll want to use this setting carefully, however, as this can easily get out of hand. If your column family gets far more reads than writes, then setting this number very high will needlessly consume considerable server resources. If your column family has a lower ratio of reads to writes, but has rows with lots of data in them (hundreds of columns), then you’ll need to do some math before setting this number very high. And unless you have certain rows that get hit a lot and others that get hit very little, you’re not going to see much of a boost here.
> 
> 
> - rows_cached 缓存行数据本身
> - 如果读远多于写，那么如果设置它过高，会消耗过多资源
> - 如果读小于写，但行比较大，最好权衡一下
> - 除非某些行的读写频率远大于其它行，那么很难得到明显的性能提升
> 
> Do not use the Serial GC with Cassandra.
> 
> However, do not simply set your JVM to use as much memory as you have available up to 4GB. There are many factors involved here, such as the amount of swap space and memory fragmentation. Simply increasing the size of the heap using -Xmx will not help if you don’t have any swap available.

不要使用物理内存的上限。

### the cassandra elevator pitch

> on the contrary, Cassandra requires a shift in how you think about it. Instead of designing a pristine data model and then designing queries around the model as in RDBMS, you are free to think of your queries first, and then provide the data that answers them.

对于迭代快的初创项目不大适合用 Cassandra 的感觉， rdbms 建立一个 schema 可以灵活地更改 query，Cassandra 则需要改 Schema 以适应 query。（不过 rdbms 要性能高也是需要对 query 比较了解？）

### 列式数据库

> "Sparse" means that for any given row you can have one or more columns, but each row doesn't need to have all the same columns as other rows like it ( as in a relational  model).

## 不敢止步

### 2003~2006 年

> 与很多人的理解不同，XP 提倡的这些实践并不是为了“软件质量”，它们所保障的是软件的可修改性。
> 
> Stroustrup：Loki 实在是太聪明了。我认为它和很多早期的面向对象编程一样，异乎寻常的复杂，异乎寻常的聪明。人们总是试图对每个程序都套用时髦的模型。现在这个阶段，我们还处于模版极限能力的探索时期。然而，我们需要尽快前进到下一个阶段，在那个阶段，我们可以通过简单的例子来解释简单的技术，并采用这种方式教授这门语言。
> 
> 在杭州呆了一段实践以后，我发现很多浙江人都有这个特点：一边俗得彻底，另一边有自己很纯粹的精神追求。对世俗利益的追求与对精神世界的坚守，对于他们来说并无抵牾，甚至没有高下之分，只是不同时间不同场合的不同行为而已。
> 
> 在他的代表作《理解媒介》里，这位传播学大师说：媒介上究竟承载着什么内容并不重要，影响人们的是媒介本身。... 在我看来，麦克卢汉的媒介决定论和维特根斯坦的哲学思想颇有暗合：重要的不是观点的正与反，而是有这样一套词汇、一种语言，使得一个问题可以被谈论，于是人们就可以开始以这种语言为媒介来思考这一问题。
> 
> EJB 从未兑现的承诺：第三方组件市场。这也不是 EJB 的原创，人们对于发展一个繁荣的通用组件市场一直热情高涨。
> 
> 有趣之处在于，像“抽象出基本的列表操作”这样的想法，即使是经验丰富的程序员，没有通过读书或者别人的讲解获得这个概念之前，是很难通过自己的实践和思考总结出来的。而一旦获得了这个概念，又会觉得它如此符合直觉以至于不这样思考才是奇怪的。... 没有获得 “天启” 之前，我们就是根本看不到这种 “高阶的” 重复代码的存在。
> 
> 作为一家服务公司，员工有这么两个特点是很正常的事：做机械重复的工作不光无聊，而且浪费自己的时间，对技术水平提升没有帮助；把它自动化了，在完成工作的同时还能提升自己的技术水平，大家当然愿意干；开了一个好头，改学的学到了，该宣传的宣传到了，接下去要把东西做完善做深入，需要投入的精力会很多，边际效用不高，于是大家又没兴趣了。... 比如前两年的 “反 EJB” 之战，口水仗是打赢了，最终胜出的是 Spring，不是更精致、更优雅的 Pico 和 Nanning，很大程度上就是因为 Thoughtworker 们太没有耐性，做出一个优雅的基础框架之后就没有兴趣做大量的琐碎工作，结果理念很受赞赏、产品没有竞争力。
> 
> 从 2004 年往前看，“Web 应用”这个概念是不太有的。那时的网站分为两类：大型的内容网站；个人网站、博客。这两类网站都是以单向的信息传播为主，鲜少有交互性。企业应用倒是有很多用户交互，更像是“应用程序”而不是“网站”。
> 
> Thoughtworks 一直坚持做一家纯粹的 IT 专业服务公司而不做产品，是因为一旦有了自己的产品，给客户咨询时就很容易把注意力放在怎么推销产品上，而不是最大化客户的利益。IBM 就是最好的例子，咨询师派出去，关心的不是怎样解决客户的问题，而是怎么在 IBM 的产品上解决客户的问题。

### 2002 年

> 就像维特根斯坦所说，语言的边界决定思想的边界，不能被谈论的东西我们就只能保持沉默——“沉默”不仅是指“不谈论”，而是根本就无法思考这个主题。软件设计在中国的语境下就是这样一个长期以来无法被谈论、无法被思考的主题。
> 
> 这种设计语言的匮乏，提现出来的效果就是：很多程序员不知道如何谈论软件设计。... 不是这些程序员不想讲，而是他们没有一种适当的语言来讲述这个主题，因此“软件的局部设计”成了一个不可言说之物，于是也就成了一个无法思考之物。
> 
> 我们知道我们已经知道的事，并且用更多的“知识”和“信息”来不断巩固我们已经知道的事；然而真正重要的是我们所不知道的事，对于这样的事，我们是无法预见做准备的，因为我们不知道。

### 2002 年

> 2002 年，“CMM” 、”软件蓝领“、”构件“，这都是中国软件业里的热词。似乎大家都相信，只要建立一个标准化的流程，招一大堆能按照标准做事的高中学历蓝领工人，把有技术含量的工作都做成可复用的构件，软件就可以像造汽车一样保质保量地从流水线上造出来了。
> 
> 同时 2002 年也是重型瀑布式方法达到顶峰的阶段，CMMI 于 2001 年提出，国家又给实施 CMM/CMMI 的企业提供补助，一群咨询公司、认证公司大发利市。

### 2001 年

> 我来自三线国防厂，我们厂里一个老工人，八级钳工，带了一群徒弟，很受尊敬。他有一手绝活，就是车哑铃。工间休息的时候，徒弟们给他递上烟，老工人心情好了，偶尔才表演一下。我有幸见他表演过一次，车出来的哑铃不偏不倚、油光铮亮，徒弟们赞不绝口，老工人眯着眼睛抽着烟，怡然自得。“这叫功夫！”我当时这么想。可现在，这功夫在数控机床面前就是一文不值。

## 意志力

### 养出强大的孩子

> 似乎成绩是因，自尊是果。
> 
> 惩罚都有3个基本方面：严厉性、及时性、一致性。
> 
> 在青少年的自制力水平赶上他们的冲动水平之前，父母有一项吃力不讨好的任务：在把孩子当成准成年人看待的同时提供严格的外部控制。最佳折衷方案也许是，在制定规则的过程中，让孩子有更多发言权，而且要在每个人都保持头脑冷静、休息充分的状态下制定规则。青少年如果参与制定规则，就会把规则看成自己的承诺而不是父母的控制。

### ...

> 邓巴最后下结论说，大脑进化得越来越大，并不是为了应付物理环境，而是为了应付社会环境——适应社会环境的能力对生存更为重要。
> 
> 分配食物时，往往是最大最强的雄性第一个选择吃什么，其他个体则按照地位依次排列等候。为了在这样的群体里安然无恙地生存下去，它们必须克制立即就吃的冲动。
> 
> 工作压力最大时婚姻往往出问题：人们在工作上用完了所有的意志力。当意志力耗费在了办公室，家庭就会遭殃。
> 
> 自我损耗造成的影响是双向的：一方面意志力减弱了，另一方面渴望变强了。
> 
> 为了保存意志力，人们经常不追求最全或最好的答案，而是追求事先就有的结论。
> 
> 没有葡萄糖就没有意志力。
> 
> 休息能减少身体对葡萄糖的需求，还能全面增强身体利用血糖的能力。
> 
> 不时地分心，并不表明无意识脑在监督任务的进展，也不表明无意识脑在督促有意识脑完成任务。相反，无意识脑在催促有意识脑制定计划。
> 
> 在生活某个方面训练自制力似乎能提高生活所有方面的自制力。
> 
> 致力于改进生活某方面的人，不知不觉改进了生活的其他方面。
> 
> 人之所以拖延做决定，部分原因是担心放弃选项。做决定，就是选择一个而放弃其他。

## 通向财务自由之路

### ...

> 大多数错误的信息都不是故意的，是人们自身渴望被引入歧途。他们不断地问一些错误的问题。... 而那些出售信息的人，通过向提出这些问题的人提供他们想要的答案都赚到了钱。
> 
> 认知的进步更多地来自我们对理论进行的挑剔，而不是对它进行的证明。
> 
> 一般来说，人们是通过给他人想要的而不是给其所需要的而挣到大部分钱的。
> 
> 人一旦对事物进行预测，虚荣心就会体现其中，使得他很难去接受在交易过程中出现的看起来与他的预测相异的任何事情。
> 
> 任何看上去是事实的东西仍然是相对的，它依赖于所处情形的语义，也依赖于你所处情形所做的一些假定和看法，所有这些也都是观点。如果你把事实看作自己归纳的一些有用的观点，你的思维就会少些僵化，而变得更加灵活与开放。
> 
> 优化只是让你的观念与历史吻合，优化做的越多，将来系统的有效性就越差。相反，我认为应该最大努力去理解理念，对自己的优势理解的越多，你必须去做的历史性测试就越少。
> 
> 你需要一个止损点告诉你，你的理念没起作用。
> 
> 即使这些理念只能帮你提高 1% 的准确率，仍然能够利用它们进行交易而获利。
> 
> 20 世纪 90 年代世界经济的大部分增长是由美国消费者对商品永不满足的需求拉动的。其他国家渴望继续把产品卖给美国的消费者，而只有其货币相对于美元保持低成本，才能做到这一点。
> 
> （共同基金）的大多数往往投资于华尔街最赚钱的蓝筹股大公司，部分原因是这些公司流动性最高。

## 制造同意

### 资本主义劳动过程理论

> 在资本主义下，直接生产者缴纳的是劳动力而不是劳动服务。
> 
> 限制工作时间通过立法后，资本家们诉诸加速、引入计件工资制和机械化等手段来强化劳动过程。但这些也只是给了个别资本家暂时的竞争优势，因为工作的步调最终会被其竞争对手们赶上。
> 
> 那些指挥生产过程的人的立场上，利润的来源是资本而不是劳动。
> 
> 资本主义劳动的过程的确定本质是同时掩饰和赢得剩余价值。

### 从竞争资本主义到垄断资本主义

> 危机理论是马克思话语里一个兴盛的领域。的确，似乎资本主义显得越稳固，我们就越悲叹实然与应然之间的鸿沟，我们对新危机的寻求就越拼命。然而，在本项研究中我抵制住了这种诱惑。

### 作为游戏的劳动过程

> 在下面三个条件的任意一条下，游戏都会失去其吸引玩家的能力：首先，当不确定性过大而结果完全超出了玩家的控制以外；其次，当不确定性过小而结果可能变得完全由玩家控制时；第三，当玩家对于可能的结果漠不关心时。
> 
> 我最初的轻蔑部分是一种防御，以掩盖我对于超额或者是对于预见任何这样做的前景的无能为力。
> 
> 我们确实创造了历史，但是并非如我们所愿。我们通过我们的行动的有意和无意的结果而创造了‘我们背后的历史’。游戏的隐喻暗示了一个带有其自身法则的历史，它超出了我们的控制，然而却是我们行动的产物。
> 
> 
> 其次，正如玩一个游戏会产生对其规则的同意，所以在参与到资本主义迫使我们要做出的选择中也会产生对其规则、规范的同意；... 第三，正如游戏界定了一套目标，资本主义也产生了一套利益；... 第四，获胜或者最大化某人的效用的可能性使得游戏很诱人。

###  从竞争资本主义到垄断资本主义

> 这种个体资本家之间的竞争性创新给资本家阶级带来了三个后果。第一，强化了劳资之间的阶级斗争。第二，当某一资本家率先采用新机器继而所有资本家都采用时，那么在无酬劳动方面，所有的资本家又回到了他们的起点；但是利润率——也就是说，剩余价值占工资、生产工具以及所消耗原材料的比例——已经下降。第三，生产的持续扩张，伴随着工资的下跌或不变，导致过量生产的危机，这迫使资本家削减产量并闲置资金。简言之，市场迫使个体资本家创新并追逐竞争优势，但是他们这样做时，他们通过强化阶级斗争、降低利润和造成过量生产的危机而威胁了他们自身作为一个阶级的存在。也就是说，资本家为了生存不得不追逐个体利益，由此，他们破坏了资本主义的生存之中资本家的共同利益。

### 捍卫马克思主义：与社会学和睦相处

> 即使不断纯粹化的资本主义已经在地方、民族国家和全球范围内将富有和贫困、独裁和宰制的最极端形式完全展现出来，反抗却近似乎悖谬般地消失了。

### 挑战马克思主义，从匈牙利到俄国

> 国家推动的共产主义意识形态宣传、生产政体的例行仪式一般是不断强调社会主义是平等、高效和公正的，而这恰恰激发工人去思考他们在实际生活中为什么未体验到这些承诺。
> 
> 从共产主义牢笼中逃脱出来的东欧各国朝着资本主义大步狂奔，到头来却发现自己掉进了另一个牢笼之中。... 对过去安全和有保障的生活的怀念，甚至是对共产主义共同体的怀念，都是公开的秘密。
> 
> 休克疗法被从西方引进——任何市场的转型都必须以掩耳之势完成，以便在反对派还没集结好力量之前就将其歼灭。这是一场经典的运动战，与布尔什维克关于革命的观点不谋而合。摧毁旧的命令体系，新的市场体系就会像变魔术一样出现。
> 
> 对市场的推崇，让我们想起了卡尔波拉尼对19世纪自由派信条的批判，他揭示了市场乌托邦主义是如何一步步导致了国家控制的极端形式（法西斯主义、共产主义）

## 美国种族简史

### ...

> 身处困境的第一代爱尔兰移民，往往替人做家佣或充当吃力而非熟练的劳工，犹太人却另辟蹊径，所找的工作虽然也是低级的，但却有利于他们掌握一种技术或学会日后独立经营的本领。
> 
> 穷人通常宁要理解贪官，而不要理解高高在上的理论家。
> 
> 只是在文官考试制度兴起后，犹太人才开始在纽约市政机关取代爱尔兰人。
> 
> 德国移民造成的最重大社会变化之一，是在美国推广了各式各样天真活泼而且适于整个家庭在公开场合进行的娱乐活动。
> 
> 圣诞树原是德国圣诞节传统饰物
> 
> 技术高超是德国人的特殊象征。
> 
> 德国人相互之间一般是各行其是，即使是近邻也互不相扰。他们以整洁、安静、友善、勤劳、节俭而著称，与印第安人也能合得来。
> 
> 德国人是组织者。不管是什么地方协会，保龄球俱乐部、工会、企业、合唱团、乐团、学校、剧团，或者教堂，他们样样都组织得很好。... 但是德国人却很少去搞什么政治组织。
> 
> 住在德意志各邦的犹太人所遭受的苦难，远远比不上在其他地方那样深重，一直到希特勒和纳粹年代，这是千真万确的.
> 
> 凡对犹太人的限制有所放松的地方，比如西欧，文化和血统方面就呈现同化的趋势，衣饰和发型上的区别也逐渐消失。
> 
> 资助哥伦布探险的基金，有一部分确实就是政府从被赶走的犹太人那里没收得来的。
> 
> 犹太人的政治思路往往强调意识形态和程序——早期倾向于社会主义，后来又转向自由主义；而爱尔兰人则更多地着眼于获得权力，并且也确实干得很成功。
> 
> 犹太人寻找或创造出自己的机会，而不是怨天尤人、自暴自弃，或为了改造别人而耗尽自己的精力。
> 
> 即使身居贫民窟，犹太人也具备中产阶级的社会模式和价值观念。
> 
> 意大利南部的农民对罗马帝国的历史——“光荣归于罗马”——也丝毫不会感到骄傲，因为他们的祖先在那时长期沦为奴隶，罗马的光荣没他们的份。
> 
> 从事一种生死存亡的买卖，头脑清醒和家庭忠诚是两大格外重要的条件。
> 
> 华人今天的成功，基本上取决于这样一个简单的事实：他们比别人多干活，并受过更多（也更良好）的教育。
> 
> 比如在广岛区，侨汇总额高达整个区政府开支的一半以上。简言之，在美国的日本移民对日本是十分重要的。天晓得，也许就是因为在美挣的钱把广岛建成了这样一个工业中心，才使它成为第二次世界大战中的一个首要军事目标。
> 
> 白人农工按计时制挣得的工资比日本人高，但当使用计件办法时，他们就挣不过日本人了，因为日裔农工的工作效率高。
> 
> 某些种族（比如犹太人和日本人）一直珍视并保持着自己的特殊文化，但却从不就此公开做什么文章。

### 黑人 

> 任何一种奴隶制的关键问题都是防止奴隶逃跑。在南北战争爆发前的南方，防止奴隶逃跑的办法不是筑起篱笆或设置岗哨，而是通过使奴隶处于无知、依附和恐惧状态来实现的。绝大多数奴隶既不会读也不会写，而且南方多数州都规定教奴隶识字属犯罪行为。正因为监禁奴隶的办法是使其无知而不是约束其人身，所以要暂时逃离一家蓄奴农场是容易的，但要永远地逃离是办不到的。
> 
> 当伊莱·惠特尼在1793年发明了轧花机，从而使南方变为“棉花王国”——不仅是美国的“棉花王国”，也是全世界的“棉花王国”之后，任何废奴主张都化为泡影。
> 
> 对黑人来说，自由既解救了他们，又使他们陷于被连根除掉的境遇。
> 
> 确信教育是个好东西是一回事，接受严格的训练或建立思想准则则是另外一回事。能经受住严格的训练，并建立思想准则，才能使教育有可能实现其目标或产生效果。
> 
> 这种意识形态上的目标和讲究实际的目标二者之间的冲突，后来就成了黑人领袖之间进行无休止内部斗争的根源。... 在这样一个到处充满对黑人的歧视、白人非法恐怖活动猖獗及非法谋害黑人盛行的时期，布克·T·华盛顿倡导的并不是一套新的目标，而只是给现有的目标按轻重缓急重新安排了次序。

### 总论

> 犹太人和意大利人皆有高度稳固的家庭，但犹太人的家庭观念驱动其成员向上走，而意大利人的家庭观念却使其感到，脱离家庭的轨道而进入外部世界犹如“背叛”了家庭。
> 
> 
> 
> 价值观念、态度、技能及交往等因素所构成的一套整体系统，许多人将这套系统称为“文化”，经济学家们则将其称为“人文资本”。
> 
> 
> 历史有时能帮助我们估量我们对过去或对目前或对未来的信念。... 捕捉历史的因果关系，与寻找自我辩解和谴责别人的理由是大不相同的。
> 
> 因与外界隔绝而养成了必要的观念和纪律，例如在若干小股的黑人中就曾出现过此种状况，那么对他们来说，掌握技术就不会困难，经济也能搞上去。
> 
> 文化本无优劣。文化只在适应某一特定环境的时候才显出其好或坏。...各种文化尽管只是获取事物的方式，但文化也是忠诚和情感寄托的焦点。

### 总论

> 各个种族之间，最引人注目的差异，也许就是他们对待求知和自我提高的态度。
> 
> 特殊技能在许多工作中是不可或缺的。但历史证明，新技术在几年之内就能很顺利地学到手，而相比之下，态度却需要几代人甚至几个世纪的时间才能改变。

## NoSQL Distilled

### Migration

> Databases with strong schemas, such as relational databases, can be migrated by saving each schema change, plus its data migration, in a version-controlled sequence.
> 
> 版本号最好存在数据库本身。
> 
> Schemaless databases can also read data in a way that's tolerant implicit schema and use incremental migration to update data. 

Incremental Migration: 改一个 schema 时保持对旧版本 schema 的兼容，向新的字段写数据同时也向旧的字段写数据，确保稳定之后再删旧字段。

### Column-Family Stores

> Cassandra is not great for early prototypes or initial tech spikes: During the early stages, we are not sure how the query patterns may change, and as the query patterns change, we have to change the column family design.... RDBMS impose high cost on schema change, which is traded off for a low cost of query change; in Cassandra, the cost may be higher for query change as compared to schema change.

Cassandra 不适合做早期原型。日常读写的 query 与 schema 高度相关，如 RDBMS 调整 schema 困难但 query 灵活，而 cassandra 调整起 Query 便已足够困难了。

schema 的解范式，某种意义上也是以 query 的灵活性换取性能，也最好在业务经过沉淀之后再做比较好，不适合在项目试错阶段就上。

### Consistency

> Replication comes with some alluring benefits, but it also comes with an inevitable dark side—inconsistency.
> 
> Concurrent programming involves a fundamental tradeoff between safety (avoiding errors such as update conflicts) and liveness (responding quickly to clients).
> 
> Maintaining session consistency with sticky sessions and master-slave replication can be awkward if you want to read from the slaves to improve read performance but still need to write to the master. One way of handling this is for writes to be sent the slave, who then takes responsibility for forwarding them to the master while maintaining session consistency for its client... Another approach is to switch the session to the master temporarily when doing a write, just long enough that reads are done from the master until the slaves have caught up with the update.
> 
> 处理读写分离的不一致
> 
> many application builders need to interact with remote systems that can’t be properly included within a transaction boundary, so updating outside of transactions is a quite common occurrence for enterprise applications.
> 
> At the other end of the scale, some very large websites, such as eBay [Pritchett], have had to forgo transactions in order to perform acceptably—this is particularly true when you need to introduce sharding.
> 
> 
> If you’re sufficiently confident in bringing the master back online rapidly, this is a reason not to auto-failover to a slave.

如果期望 master 快速重启的话，就不要使用 auto-failover。

### Why NoSQL?

> Clustered relational databases, such as the Oracle RAC or Microsoft SQL Server, work on the concept of a shared disk subsystem
> 
> As the 2000s drew on, both companies produced brief but highly influential papers about their efforts: BigTable from Google and Dynamo from Amazon.
> 
> The most important result of the rise of NoSQL is Polyglot Persistence.
> 
> we put into four categories widely used in the NoSQL ecosystem: key-value, document, column-family, and graph.

图数据库还接触不到场景；key-value 要么 redis 这种 in-memory store，要么就是就是 CDN 这种 blob 存储了；document 系看不出明显的好处，单看扩展性目测不如 column-family 系？

## 理解专业程序员

### 为什么程序员如此做事

> 
> 1. 绝大多数时候，不会发生变化。
> 
> 2. 只所以不发生变化，是因为很多力量都在积极地保持事物稳定。
> 
> 3. 为了把变化往高效的轨道上引导，你必须理解那些保持稳定性的力量。
> 
> 4. 当人们变化时，那是因为他们的环境发生了变化，所以即使他们一成不变，也还是变化了；他们的环境变化了，所以他们为了抱住某种重要的东西，就必须做出改变。
> 
> 5. 最剧烈的变化，恰恰是因为要在变化中保住某种东西而引起的。
> 
> ..
> 
> 8. 如果把人们的工作结果反馈给他们，他们就能知道哪些是好的，哪些是坏的，这样他们就能确保在变化时增加好的，减少坏的。
> 
> 9. 管理者的任务，并不一定是直接给出这样的反馈信息，而是去安排这样的反馈，使之正规化、可靠化。
> 
> 10. 因为程序员的生理、安全需要早就得到了满足，所以满足他们的高层次需要——特别是社会需要——就成了一种成功的策略。
> 

### 专业程序员有哪些范式

> 在那些定义不清的情况下，程序员往往会自作主张，定义一个他们自己愿意解决的问题。
> 
> 专业程序员是为他人解决问题的人，不论问题有多麻烦。

## 一个自由主义者的良知

### 不平等的代价

> 严重贫富不均必然会带来严重的社会不平等，这对美国人的生活境况有切切实实的负面影响。绝大多数美国人住不起世界各地豪华酒店纷纷推出的一晚上 1.1 万美元的套房，这也许不大要紧。非同小可的是，为了拼命把子女送进好学校，数以百万计的中产阶级家庭不顾支付能力购买住房，背负危如累卵的抵押贷款，而贫富不均意味着，符合人们心愿的学区正在日渐变少，其居住成本在日趋升高。
> 
> 在现代美国，阶层，尤其是上一代的阶层，通常压过才能，这才更接近真相，虽说尚不是全部的真相。

为什么经常觉得美帝反而总是在水深火热地阶级斗争中呢。

### 医疗问题为什么那么难

> 但凡有可能，保险公司总会仔细审查申请人，寻找他们可能需要昂贵治疗的迹象，如家族史、工作性质等，尤其是保前疾病。如有一丝迹象表明，一位申请者比一般人更易带来高额医疗开支，公司就绝不会向他提供买得起的保险。
> 
> 保险公司却花大钱来筛选候选申请人，抗拒付款。医生、医院等医疗服务提供者也花大钱与保险公司周旋、对抗，以得到付款。在美国当前的医疗体系中有一个被称为“拒付处理”的产业，即那些在保险公司拒付时帮助医生与其进行交涉的公司。
> 
> 在美国，包括保险公司成本与医疗提供者成本在内的总管理成本占医疗开支的 31%，而在加拿大则不到 17%。
> 
> 美国的体制还有一个不得不提的可怕缺陷：保险公司几乎没有动力为预防性医疗付账，而这能节省大笔的潜在医疗开支。最招致恶评的例子是糖尿病：对于可能在早期控制病情的治疗措施，保险公司常常不愿意付费，但却愿意为糖尿病失控后经常导致的截足手术付款。
> 
> 目前为止，我把美国的体系说的像一场噩梦，对许多人而言这并不夸张。但约 85% 的美国人是享有医疗保险的，而且大多得到妥善的治疗。这一体系为何运转的还不错？
> 
> 原因之一是，政府也在提供医疗保障方面扮演了关键角色。... 另一个原因是，绝大多数享有私人医疗保险的美国人是通过其雇主得到这种保险的。
> 
> 雇主必须向所有员工提供相同的医疗待遇，不论过去的健康状况如何。所以，以雇佣关系为基础的保险为一些真正需要的人提供了保险，使其免为保险公司的筛选所害。... 但这一曾经的解药正在失效。
> 
> 基于雇佣关系的保险衰落的动因是保险成本的上升。... 保险为何在变贵？答案竟然是医疗进步。由于医疗科技的革新，许多过去无法救治的疾病现在也能治疗了，不过费用不菲。保险公司为这些治疗付账，但提高保险费以弥补损失。
> 
> 现有的医疗保障体制经常导致人们做出非理性的选择，而费用的上涨则会加剧这种非理性。特别是，美国的医疗保障体系把过国民分为体制内和体制外两种类型。体制内的人可以获得极好的保障，能享受现代医疗科技提供的各种服务，而不论其成本有多么高昂。相反，体制外的人得到的保障却很差，甚至没有任何保障，获得的服务就非常少。... 体制内的人能获得更高的医疗开支，是以把更多人排挤到体制外为代价来实现的。
> 
> 人们设想以卫生维护组织的“管理式医疗”取而代之，因为在管理式医疗中，隶属于卫生维护组织网络中的医生有动力把成本纳入考虑范围，从而舍弃预计疗效却价格高昂的医疗措施。... 但卫生维护组织是商人运营的私人组织... 但最终卫生维护组织未能带来持续的成本节省，原因很简单：得不到人们的信任。
> 
> 假如世界是由一群精通政务的专家运行的，那么事情就到此为止了。美国人喜爱联邦医疗保险，让我们把它给予全民吧。为这样的扩张融资就需要增税，但就算现在有保险的美国人，其收益也会超过多交的税额，因为他们不用再交那么高的保险费了。问题解决了！
> 
> 天啊...
> 
> 现在谈谈好消息：数年来政策分析人士和政治家已经研究出了一套医疗改革构想，它似乎是条可行的折中路线，既考虑经济利益，也顾及政治现实。这套构想包括四个基本要素：1. 统一费率；2. 低收入家庭补助；3. 强制保险；4. 公私竞争。

### 保守主义一手遮天

> 除去共和党和共和党政治家外，保守主义运动还包括传媒机构、智库、出版社等。人们可以在这个网络里度过整个职业生涯，而且有人的确是这么做的。他们知道不管发生什么事，只要保持政治忠诚，便能够得到回报。
> 
> 里根早期政治成功的要诀是迎合人们在族群与性别上的焦虑感，拿人们对共产主义的恐惧做文章，而且最重要的是，以隐秘的方式利用白人对民权运动及其影响的逆反情绪，从中渔利。。

### 经济危机

> 大多数美国人的医疗保险是和就业挂钩的，这就意味着，大多数即将失业的人也将失去他们的医疗保险。

## 政治经济学要义

### 殖民地

> 与殖民地贸易中可以得到的不论是什么利益，在于从那里得到的东西上，不在于向那里输出的东西上。
> 
> 在自由竞争条件下，在殖民地贸易中向殖民地供应商品没有什么利益可得，因为这种贸易得到得好处不超过一般的资本利润所得，没有这种贸易也能得到。然而在这样的贸易中殖民地遭受损失倒是真实的，它被迫向母国购买的商品，如果向别国购买的话，价钱可能比较便宜。
> 
> 除了建立垄断公司外，如果要从限制殖民地贸易中获得任何利益，必然在于强制殖民地只向母国出口，而不是强制殖民地只从母国进口。

### 生产

> 在我们生活的社会状况中，劳动除了与资本相结合，很少见到单独被使用。
> 
> 众所周知，人们尚未使这两种工作(分解工作和综合工作)实现最佳的劳动分工和分布。同样可以肯定的是，这种劳动分工还处于最不完善的状态。就已经做到的分工而言，如人们所说的，它们是根据事实经验来做的；也就是说在很大程度上是偶然的。
> 
> 人类社会的分工问题只有比 NP 完全的背包问题复杂度更高吧。
> 
> 获得资本的最终来源是劳动。
> 
> 最初的那部分资本是纯劳动的产物，没有资本的合作。但是，第一件工具制成之后，... 资本第一次成为劳动与资本结合的产物。
> 
> 生产出这些东西是为了加以运用，当作进一步生产的手段，因而资本显然是所谓节约行为的结果。
> 
> 资本主义的起源总会提到清教徒的禁欲。
> 
> 任何国家的消费和生产的很大一部分都是为了再生产而进行的，这是非常重要的事实。

## 施瓦辛格健身全书

### 训练强度

> 强度是对你的训练效果而非训练投入度的衡量。
> 
> 你越是资深，进步就越难，需要的训练强度就越大。这就是著名的“收益递减法则”。

### 健身运动的未来

> 健身运动的第一原因时对运动的爱。没有这种爱，健身者之间的友情就会丧失，而运动员就只会毫无乐趣和满足地进行比赛。如果你只考虑经济因素，那么当你在比赛中失败时，你就不仅仅失去了比赛，同样失去了一部分生活。如果处在这种位置上，任何人都很难对其他参赛者——最终也包括健身本身——不抱有负面情绪。

## 房地产的繁荣与萧条

### 理念与现实

> 理念的产生或许涉及各种各样的人群，以及各种各样的缘由，包括对他人幸福最原生态的关怀，以至于对整个国家福利的关注。但是，一旦某个特定的理念被普遍认同，许多人或许便因此获得了某种既定的利益，不论是财务上的，还是政治上的，抑或是意识形态上的，如此一来，便导致理念与现实极大地背离。

### 创造就业

> 20世纪30年代的大萧条期间，政府制造了大量的就业机会，那时，民间资源保护组织中的年轻人甚至多于军队，但是，在罗斯福总统执政的头7年中，失业率却从未跌落到两位数以下。在罗斯福政府执政的头21个月中，失业率更是从未跌落到 20% 以下。那些视政府制造就业为拯救失业的灵丹妙药的谬误之处在于，其单纯地将政府创造的就业视为就业的净增长。支付给政府制造的就业岗位的资金来自私营企业，而私营企业的就业需求便因此下降。政府制造的大幅就业增长，在巨大的失业面前，贡献微小，或者干脆无法取得增长。
> 
> 不论经济上存在怎样的缺陷，政府制造就业的项目从政治上来说，造就了一大批对政府感恩戴德的阶层，他们很有可能在艰难时期投出支持政府的一票。新政的政治成功不容辩驳。

### 房地产繁荣的政治学原理

> 在全球 26 个排名房价 “严重超越承受力” 的城市中，23 个存在着被冠以 “理智发展” 策略下的严厉土地使用限制政策。  
> 
> 读作 “科学发展观”。
> 
> 2002 年，乔治W布什总统督促国会通过了《美国梦首付款法案》。该法案明确，将给予那些收入低于某个水平的有意购房者以首付款补贴。

### “创新性的” 金融手段

> 在那些房价高昂的地区，比如加州海岸，购房者特别容易接受一些激进的金融手段来实现自己的购房梦。
> 
> 2006年，全美 90% 的次级抵押贷款都是变动利率贷款。
> 
> 一些借款人甚至不要求贷款人支付首付款，有些借款人则是人为地忽略对贷款人收入的查证。... 次级抵押贷款者承诺自己 40% 以上的收入用于支付月供。如此激进的抵押贷款如何规避风险？那就是将它们卖给房利美、房地美。
> 
> 这些不同的变动利率的贷款方式，在利率异常低廉的时候被大量采用。这样，贷款月供将低于传统的 30 年期固定利率贷款，从而 “激励” 更多人群激进地购入自己无力承担的住宅。换句话说，这样的 “临时安排” 无形掩盖了一个事实，即从长期看，某些购房者将无力承担房屋的贷款。
> 
> 这些激进的贷款方式对那些预期自己收入不断增长的 “成长股” 一族来说魅力非凡。
> 
> 另一种可能性就是，在两年的无本金贷款结束的时候，重新融资。在房价持续上涨的市场上，房产的增值将使这样的做法满足借款人和贷款人双方的利益。
> 
> 即便可以预见购房者将在仅需支付贷款利息的两年蜜月期结束后最终无力承担随之而来的更大额的月供，房价的增长也让购房者获取丰厚的利润，即便购房者根本无力承担上涨之后的数额。
> 
> 一笔固定利率为 8% ，总额 300000 美元的贷款，如果市场利率调整到 6% ，将重新寻求新贷款代替旧贷款。
> 
> 享受低水平的初期月供购买一套房产，或是多套房产，之后，在高水平月供到来之前以更高的价格出手房产，许多投机者得以利用自己相对少量的现金，通过此番豪宅投机取得丰厚的利润。
> 
> 一旦房屋价格得以平稳，投机客将不得不面临严峻的问题，尤其是对于那些贷款购买多套房屋，月供即将恢复到较高水平的投机者。
> 
> 许多非专业的投机客对房产的投机，事实上已经超越了投机房价的上涨，他们同时也是在投机个人收入的上涨。投机收入的上涨速度能够承受初期仅需偿付贷款利息阶段结束后大额月供的偿付。
> 
> 繁荣时期房产的价格支撑不是任何具体的实物，而仅仅是人们对房价不断上涨的信心和期望。
> 
> 在房地产的兴与衰中，谁该收到指责？贷款人？或是借贷人？政府？金融市场？
> 答案是，是的，所有人都负有责任。但其中许多人却并无责任能力。

### 房地产繁荣的经济学原理

> 房利美和房地美是两家由政府创建，却属于私人拥有的企业，它们的主要业务就是从银行购买抵押权。
> 
> 房利美和房地美需要对它们的股东负责，在这一点上与华尔街的公司相差无二。.. 政府的介入还同时引导着其它金融机构以比其他纯私有化更低的借款利率将资金信贷给这两家杂交型的机构，理由是不言而喻的：一旦危机爆发，政府绝不会允许房利美和房地美破产。
> 
> 当房利美与房地美为追逐更大的利益而甘冒更大的风险时，市场仍然继续买它们的债券，因为联邦国库似乎一定会弥补冒险有可能造成的任何窟窿。《华尔街日报》一言蔽之，“它们的收益体现的是私有化，而风险则表现为社会化”。
> 
> 房地产的成本：
> 
> 对于大多数房地产的拥有者来说，该项房产就是他们拥有的最大的金融资产，同时，也是他们最大的金融负债。
> 
> 利率：
> 
> 资信评级低于一般水平的个人很可能无法享受到基准利率的贷款，但有可能获得 “次级” 贷款，即银行收取较高的贷款利率，以平衡低收入人群或资信问题人群的较高贷款风险。
> 
> 首付款：
> 
> 在房价高涨不下的时期，这样的首付款更是不可逾越的购房障碍。有房一族通常会先卖出自己的房屋，哪怕该房屋的贷款尚未还清，用所得房贷还清贷款，然后，再利用剩下的钱——房屋的净得，支付新房的首付款。在加利福尼亚州，这是房屋所有者购买新房首付的最主要来源，其次，才是日常的存款。
> 
> 借款人当然明白，庞大的首付款数字将极大地限制有能力贷款人群的数量——进而限制抵押贷款的业务总量以及相应的利润总额。显然，尽管首付款限制了贷款交易的数量，但一定能找到某种风险对冲条件来促成更多的贷款业务。这个条件便是减少违约的风险。
> 
> 在房价特别高昂的市场上，首次置业者不得不将收入的很大部分用于偿还月供，因为他们通常想方设法减少首付款。
> 
> 昂贵的房地产市场：
> 
> 就其影响来说，房地产的繁荣与萧条是一个全国性的问题，房地产问题的根源却趋向于集中在一些房价过高、波动过大的特殊区域。
> 
> 在任何地方，房屋建造成本的地区差异都远远无法体现房价的差异。同样，高房价地区与低房价地区的房屋品质的差异也无法与房价的差异媲美。
> 
> 那些让房地产变得 “不可承受” 的时刻，往往紧紧伴随着 “当地政府发展管理措施或限制政策的出台和通过”。
> 
> 即便收入上涨，人口增加，只要没有出台严厉的土地限制措施的地区也很少会出现房价的高涨。... 20 世纪 70 年代，加利福尼亚房价急剧飙升，加利福尼亚的人均收入涨幅同期却低于全国平均水平。
> 
> 在建造房屋较少的地点和时间上，即便是购买需求的增长也不可能推动房价像房地产政策限制更多的环境下那样疯狂上涨。
> 
> 大多数出台严格土地使用限制措施的推动力，都来自那些致力于保护 “有限” 绿地的个人或团体。
> 
> 对一项政治决策来说，民意大于现实。

## 构建之法

### IT 行业的创新

> 对于后来者，一个赶上的办法就是把别人的优势变成大路货（Commodity）。

### 在代码复审后要做什么

> 把所有的错误记在一个“我常犯的错误”表中，作为以后自我复审的第一步。

### 软件工程师的成长

> 一个成熟的软件工程师应该能够降低任务交付时间的标准方差。
> 
> 软件领域可以分为两个方面：一方面是技艺创新的大爆发；而另一方面是坚持不懈的工程工作，包括软件的改善、维护和测试等，这一方面占了 90%~95% 的比例。

## 为学十六法

### 史学研究五法

> 
> 一曰重恒事，恒事者，日常琐屑是也。亦易见忽略，然实为大事之基。鲜卑者，东胡之裔，东胡盖古之山戎也。方其未强盛时，齐桓伐之而捷，秦开却之而克，至匈奴冒顿攻之，遂奔北逃窜，一若绝无能为者。然至石槐、轲比能，遂方制万里。使边郡之士夫，为之旰食，何哉？曰: 关塞不严，禁网多漏，精金良铁，皆为贼有。汉人逃亡，为之谋主，兵马利疾，过于匈奴。证以金室初兴，厚值以市商所携之兵甲，满清滑夏，实起抚顺之互市。而鲜卑强盛之原因，可以想见矣。

### 治学的程序

> 
> 从理论上讲：
> 
> 第一，当先知现在共有几种重要的学问；
> 第二，每一种学问，该知道他现在的情形是如何？最重要的，有哪部书？
> 第三，对于各种重要的学问，都得知其涯略。
> 第四，自己专门研究的学问，则更须知道得深一些。
> 第五，如此者，用功既深，或则对于某种现象，觉得其足资研究，而昔人尚未研究及之，我们便可扩充研究的范围。
> 又或某种现象，昔人虽已加以分析，然尚嫌其不够细密，我们就可再加分析，划定一更小的范围，以资研究。
> 又或综合前人的所得，更成立一个较大的范围。
> 又或于前任所遗漏的加以补充，错误的加以改正。

## 政治的细节（第10版）

### 案例：赤字、石油美元和油价

> 外国人能够继续接受美国持续不断的美元外流的部分原因在于一种如非明示也是隐含的交换，即为报答他们对美国美元赤字的接受，美国为美元最大的持有者提供反对敌人的军事保护。美国的军事实力为其财政自律的不足作了补偿。
> 
> 石油以美元计价意味着美国“能印钞票买石油”。
> 
> 沙特人有一种长期经济利益，即将石油价格保持在中等水平。.. 保持油价足够高昂以赚取大量利润，但油价不应该高到会鼓励投资开发替代性能源，这种情况对其最为有利。

### 国际制度：相互依赖能否奏效？

> 从政治现实主义的观点看，国家对特定国际制度的依赖以及国际制度数目的剧增都是令人费解的。
> 
> 国际制度的新研究坚决摒弃了法理主义——认为不论政治环境如何，法律都是有效的——以及与这个领域起源相关的理想主义。
> 
> 国际制度通过降低国际协议制定和履行的成本，即经济学家们所指的“交易成本”，赋予国家互惠互利合作的能力。
> 
> 批判者认为，无政府状态的后果之一就是，国家行为体追求相对收益（超过他国）而不是绝对收益。
> 
> 大多数国际组织在越来越多地制定规则和准则，倘若各国政府想吸引外资和促进增长，就必须遵守这些规则。然而，这些国际制度都是由技术专家制定，受到政府高官的监控，换言之，都是一种精英治理。
> 
> 未来国际制度对公众的负责可能仅部分依赖于正式民主制所委派的代表。其他的途径可能在于最大透明度条件下的自发性的多元化。
> 
> 然而，这种透明度代表了非政府组织和网络群体而非普遍人民，后者可能像被排除在政府圈以外一样被排除在精英网络以外。

### 国际法的用途与局限

> 倘若他把国际法的用途和不同的诠释理解为一种融合的努力，最终将导致具有稳定性和同一性的某种体系，或者他认为特定的构建方式（他自己国家的构建方式）将对该体系形成具有特殊的建设贡献，那么他就是一个伪君子。
> 
> 国际法是一种沟通的工具。
> 
> 国际法给政治家提供了一个行为工具而非行为指南。
> 
> 国际法为何常常被作为一项政治动员策略，原因之一在于互惠性的考虑：“你必须支持我援引这项规则去反对他，因为倘若你任由这项规则以我的利益为代价被违背，那么它终有一日也将你的利益为代价而遭到破坏；维护它关乎我们双方的利益。”
> 
> 正是国际法的模糊性——这在许多关键领域都表现为种种空白漏洞或原则的矛盾重重——使得决策者在紧急状况下能够权益行事。

### 联盟：制衡与搭车

> “制衡”被界定为与他者联盟反抗压倒性威胁；“搭车”指的是与威胁源结盟。
> 
> 六国破灭，非兵不利战不善，罪在赂秦。
> 
> 
> 1. 制衡比搭车更为普遍；
> 2. 国家越强大，制衡的趋向就越强。弱国会制衡其他弱国，但遭受大国威胁时将会采取搭车行为；
> 3. 外来支援的可能性越大，制衡的趋向就越强。当然，当充足的盟友支援确定无疑时，免费搭车或相互推诿的趋向增强；
> 4. 一国越是被感知为具有顽固不变的侵略性，他国反抗制衡的趋向就越强；
> 5. 在战时，一方越是接近胜利，他国搭便车的趋向就越强；

### 康德、自由主义遗产和外交事务

> 自由主义的基础来源于对于三种权利的承诺。自由主义要求免于专制权威的自由，经常被称做“消极性自由”，这包括良心自由、新闻自由和言论自由，法律之下平等权以及持有、交换的权利，而无被任意没收之忧。自由主义也要求一些必要的权利来保护和促进自由能力及机会，被称为“积极性自由”。对有效的自我表达以及积极参与来说，类似于教育机会平等权以及医疗和就业权等社会经济权利都是必要的，即类属于该项目自由权利。第三种自由权利，民主参与或代表权，对保障二者的运行是必要的。为了确保在公共权威运行的社会领域道德自主的个体依然能够享有自由，公共立法系统必须表达其公民意志，他们为他们的社会而立法。
> 
> 然而，在自由主义范畴内，困境在于如何协调这三种自由权利。例如，个人财产权利可能与机会平等权相冲突，而且两者都可能受到民主立法权力的践踏。

### 国际政治的无政府格局

> 在经济论中，“微观”一词指的是理论构建的方式，而不是指它所涉及的事务规模。
> 
> 国际政治系统中，如经济中的市场一样，是由关注自我的单元的共同行动形成的。
> 
> 等级制要求系统内各单元之间处于一种上下级的从属关系，也就意味着它们之间存在差别。
> 
> 无政府状态要求系统单元之间是一种同等关系。
> 
> 国家行为的增加是一股强劲而又惊人一致的国际趋势。国家的功能是相似的，不同之处主要在于能力的不同。
> 
> 相似的单元努力维持某种程度的独立，甚至完全的自给自足；在等级制领域，单位之间具有差异性，它们倾向于增加它们的专业化程度。
> 
> 尽管国家的功能相似，它们的能力却存在很大差异，这种差异导致了一种劳动分工，相比于国内高度明确的劳动分工，这种分工是初级的。
> 
> 高度依赖或紧密依赖的国家对安全问题异常担忧。国家间的高度相互依赖意味着，深陷其中的国家不得不面临高度相互依赖所附生的共同脆弱性问题。与其他组织一样，国家努力控制它们赖以为继的资源或尽力减弱这种依赖程度。这一简单的说法解释了很多国家行为：它们努力扩展控制范围的“帝国化”动机，以及实现更大程度的自给自足。
> 
> 在一个自助体系中，安全的考虑使政治收益重于经济收益。
> 
> 台湾那边砸立法院就可以理解了...
> 
> 在结构的限制下，理性行为并不能导致想要的结果。
> 
> 举的例子是银行的抢兑，抢兑时排队的市民其实是理性的，但是结果每个人都不愿意看到。
> 
> 必要性并不能产生可能性。希冀最终的行动是有效的并不能保证最终行动就是有效的。
> 
> 那些谴责缺少等级秩序的人，往往忽略了维持等级秩序的成本。组织机构至少有两个目标：完成某些任务和维持组织自身的存在。它们的很多活动都直接指向第二个目标。
> 
> 如果强权行得通，为公理而进行的血腥斗争就能得以避免。
> 
> 国家之间的战争并不能解决权威和公平的问题，只能决定收益和损失如何分配，并暂时决定谁是强者。国内社会建立了权威的关系；国际社会却建立了权力的关系。
> 
> 某一种秩序的权力越集中，决策的中心就越靠近高层。

## Akka in Action

### Futures

先记一个坑...

<代码开始 lang="java">
class AccountBalanceRetriever(savingsAccounts: ActorRef,
                              checkingAccounts: ActorRef,
                              moneyMarketAccounts: ActorRef) extends Actor {
  implicit val timeout: Timeout = 100 milliseconds
  implicit val ec: ExecutionContext = context.dispatcher
  def receive = {
    case GetCustomerAccountBalances(id) =>
      val futSavings = savingsAccounts ? GetCustomerAccountBalances(id)
      val futChecking = checkingAccounts ? GetCustomerAccountBalances(id)
      val futMM = moneyMarketAccounts ? GetCustomerAccountBalances(id)
      val futBalances = for {
        savings <- futSavings.mapTo[Option[List[(Long, BigDecimal)]]]
        checking <- futChecking.mapTo[Option[List[(Long, BigDecimal)]]]
        mm <- futMM.mapTo[Option[List[(Long, BigDecimal)]]]
      } yield AccountBalances(savings, checking, mm)
      futBalances map (sender ! _)
  }
}
</代码结束>

代码在 《effective scala》里摘的... 作为一个 bug 的例子。

> The sender could have a completely different value at the time the callback is invoked.

Future 的回调函数里的这个 sender 是一个变量而不是值，当回调函数触发时，sender 已经不是原来的 sender 了。

解法是使用 pipeTo 或者：

val responder = sender
futBalances.map(responder ! _)

简直跟 javascript 有一拼了，现在是多讨厌闭包。线上出一个这样的 bug 得怎么调试呢。

## 自由及其背叛

### 卢梭

> 感情使人分离，理性使人们统一。感情、情感是主观性的、个体性的、因人而，因国家而异，因气候而异；只有理性才是每一个人都有的，而且只有理性才是一贯正确的。
> 
> 在一位有理性的人看来是正确的东西，在另一位有理性的人看来也是正确的。
> 
> 就像 pythonic 宣称 “一个问题一个唯一方案” 一样，从来没实现过。
> 
> 或者换一个角度来思考，如果你深信自己的理性，而别人却得出了某种完全不同的结论，这本身即表明，他们可能是非理性的，你完全可以忽视他们的结论。
> 
> 在卢梭看来，自由式一种绝对价值。
> 
> 人类最严重的罪行，不是人天生就有的罪恶，而是丧失人性、贬低人格和剥削人。... 在他看来，这就是反对圣灵的罪恶。
> 
> 卢梭是日内瓦公民，深受加尔文教的影响；因此，在他看来，有关生活规则的看法是永远存在的。
> 
> 幸福不是人的追求目标：人类追求的目标是过上一种正确的生活。
> 
> 他一直坚持认为，法则不是一成不变的惯例，不是实用性的工具，它完全是根据非人为的，因而是永恒的、普世的、绝对的神圣真理和神圣规则，去制定适合于特定时间、地点和人物的规则的过程。
> 
> 这一来我们就遇到一个悖论。我们面临两种绝对的价值：绝对的自由价值和绝对的正确规则价值。
> 
> 诸如希特勒和墨索里尼这类造反起家的小资产阶级，都是他的思想继承人。
> 
> 自我控制是自由。就这样，卢梭逐渐向这样一种独特观念靠拢，即，人们想要达到的目的是，人们要以国家用暴力将他们联系在一起的方式将彼此联系起来。
> 
> 强迫一个人获得自由就是强迫他以理性的方式行事。假如他并不想得到一个合理的目的，那么他想得到的不是真正的自由，而是虚假的自由。我强迫他去做某些将会让他高兴的事情。假如他发现了真正的自我，他就会对我心存感激：这就是他著名学说的思想核心，在卢梭之后，西方的独裁者们无不利用这一恐怖悖论来证实自身行为的合理性。
> 
> 这种学说既有利又有弊。有利之处在于，他强调，一个社会如果没有自由，没有自发性，就不可取；弊端体现在，卢梭的确参与制造了真正的自我这个神话，打着真正的自我这个旗号，我就可以强制别人。
> 
> 在整个现代思想史上，卢梭是自由最险恶和最可怕的一个敌人。

### 费希特

> 他给自由下的定义：它是个体只需遵守法律的权利
> 
> 如果你生活在一个可悲的环境下，你首先想到的是，你能做的事情几乎不存在。要么你没有物质手段，要么统治者不公正、残暴或者愚蠢；要么有太多天灾降临在你头上；要么你在别的方面受到了局限：你落入了英雄无用武之地。自由这种想法一方面成了在实践上不可能实现的东西；另一方面成了一种强烈和热切追求的理想。
> 
> 对于这种环境的反应，人类历史上也经常发生，那就是说，“如果我得不到我想得到的东西，那么，也许抛弃这种想得到某种东西的想法本身，就可以让我们的生活更加幸福。”
> 
> 利用一种酸葡萄原理，我愿意把它说成是一种非常崇高的、非常宏大的酸葡萄原理。... 这种原理是说，一个没有得到满足的欲望和一个被泯灭的欲望，结果竟是同一回事。
> 
> 自律，即真正的自由，向我本人发布命令，随心所欲行事的我服从这些命令。自由便是服从自己给自己下的指令。
> 
> 受人羡慕和受人景仰的是那种能够正确地理解事物的人、能够发现正确答案的人、有知识的人。
> 
> 理想主义意味着什么？理想主义者就是摒弃了一切可能吸引卑劣天性的东西——财富、权力、成功、名誉——的人，他这么做是为了内心的理想，是为了创造出他的内在自我规定的东西。
> 
> 这种看法很新鲜。假如莫扎特和海顿得知，他们之所以受重视，乃是因为他们内在的精神冲动，他们会大为震惊：他们是创作出美妙音乐作品的艺术家，这些作品之所以受到主顾约请和听众景仰，是因为乐曲美妙。... 到了 19 世纪，艺术家成了英雄人物，反抗成了他们生活的主要行动。
> 
> 个体的自决现在变成集体的自我实现，民族变成了由统一意志组成的共同体，它在追求道德的真理。
> 
> 中华民族的伟大复兴何尝不是一条道德真理。
> 
> 从强调理性转移到强调意志，产生了如下的自由观念：它是不干涉的观念、不是允许每一个人自由选择的观念，而是自我表现中的观念，将你自身强加于介质之上的观念，清楚你自己障碍的观念。只有通过征服障碍才能清除障碍：在数学中，通过理解；在物质生活中，通过篡取；在政治中，通过征服。这就是以下观念的核心，这种观念认为，一个自由的民族是一个获胜的民族，自由即是力量，征服和自由式同一回事。

### 圣西门

> 圣西门说：我们总听说这种进步观念，但我们知道的进步是什么？... 他罗列了四条标准，每一条都很有趣：
> 
> 第一条标准是：进步的社会就是能够最大限度地满足绝大多数人需要的社会；
> 
> 第二条标准是：任何进步的东西都会给最优秀者到达最顶峰的机会；
> 
> 第三条标准是：能够为反叛与入侵提供最大限度的团结和力量的东西，就是进步的；
> 
> 第四条标准是：看它是否有助于发展、发现和文明。
> 


几乎就是长者的三个代表了

### 黑格尔

> 不喜欢你认为是由理性所决定的东西，抵制它，这纯粹是自杀式的疯狂，最愚蠢的行径，一种不成熟的表现，孩子气十足。“主观的”这个词在黑格尔看来具有极端轻蔑的含义。有谁在意一个小学生对欧几里得的理论或对牛顿或爱因斯坦命题的看法？憎恶这个宇宙，摒弃它、抵制它、发现它不合乎你的胃口，抱怨它，说这些事实于你不利，说你遭受到了无法破解的无情抵制，你因此而受挫，因跌落在生活的荆棘上而流血。在黑格尔看来，这就是卑下、盲目、没有理解力的表现，最终还是罪恶的表现。

### 导论

> “为什么某一个体应该服从其他个体？为什么每一位个体都要服从其他个体或个体构成的群体和整体？”
> 
> 这六位思想家使用的语言还是直接针对我们这个时代的。爱尔维修谴责无知、残酷、不公正和蒙昧主义；卢梭义愤填膺地痛斥艺术和科学以及知识分子，替简朴的人类灵魂张目；黑格尔和费希特赞美组织有序的庞大整体，也就是他们所从属的国家组织，而且还谈到奉献、使命和民族义务，以及在执行共同的任务中当与他人认同所属的快乐；圣西门谈到，生产者将来会生活在某一个合理地制度之下，我们所有的经济顽症以及由此产生的其他苦难，将一劳永逸地得到解决；最后，麦斯特将生活描述为植物动物和人类之间不断地斗争，让人不寒而栗，在这个渗透鲜血的战场上，弱小、无力和邪恶的人类彼此厮杀不停，除非动用最严格和嘴有力地禁律才能震慑住，人只是偶尔才能超越自身，应对自我奉献或自我牺牲所带来的巨大痛苦。
> 
> 麦斯特说得是进击的巨人吗(
> 
> 在人类重要哲学家的著作里出现的所有伟大思想机器，通常只是内在堡垒的外围工事——对抗袭击的武器，对反对意见的反对、对驳斥的驳斥，试图预先阻止和反击针对他们的观点和理论的批评——实际和可能的批评；除非我们穿过这一层由防御性武器构造的火力网，深入那个核心的、和谐一致的内部观念，否则，我们便无从了解他们究竟想说什么。那种核心观念通常不是精致和复杂的，而是简单的、和谐的，而且容易被视为一个整体。
> 
> 牛顿用极少数简单明了的定律表现了自然界，按照这些定律，宇宙中每一个物质微粒的运动和位置原则都可以推断出来... 这样做依据的法则，数量也很少，很容易被那些不惮其烦、细心学习的人掌握。做到这一步无需特殊才能，无需神学上的洞见，无需形而上学的天分，只需明确的推理和客观观察的能力，以及尽可能专门去筹划实验，从而证明观察结果的能力。

祛魅

### 编者前言

> 柏林是 “唯一能以一个音节说出‘认识论’的人。”

## Java虚拟机并发编程

### 明智地进行选择 - 软件事务内存

>  STM 是经由 Clojure 成功实践之后才逐渐流行起来的。
> 
> 然而 STM 存在两个主要缺陷。其一，如果项目所使用的语言不是 Clojure，那么必须格外小心，以确保所处理的状态除了托管实体都是不可变的。其二，必须确保事务的实现代码都是幂等的且无任何副作用。
> 
> 
> 
> STM 更适合那些写冲突不频繁的场景。

### 基于 Actor 模型的局限性

> 在那些没有强制不变性的语言中，我们必须人工保证消息都是不可变的。
> 
> 某些 Actor 的意外失败有可能导致其它 Actor 饿死，一个或多个 Actor 可能会一直等待某些关键的协作消息，而这些消息有可能由于本应发出该消息的 Actor 失败而永远无法抵达。因此，我们需要谨慎编码，在 Actor 中加入异常情况的处理逻辑，并将错误消息传播给那些等待响应的 Actor。
> 
> 当两个或多个 Actor 互相等待对方发来的消息时，所有的 Actor 都将陷入死锁。我们应该使用超时来保证程序不会由于协调环节中各别 Actor 的无法响应而导致其它 Actor 无限期的等待。
> 
> 只有在待解决的任务可以被拆分成多个彼此相互独立的子任务并且子任务之间只有少量交互的情况下，使用 Actor 才是合适的。但如果子任务之间需要频繁交互或者子任务们需要通过形成一个裁决集（quorum）的形式来进行协作，则使用 Actor 模型是不合适的。

### 保持不变式

> 一方面，我们绝不应该在构造函数中启动线程；而另一方面，我们也不愿意在对象没有完全创建好之前就启动它。
> 
> 解决方案就是在 《Effective Java》一书的第一项中：“考虑使用静态工厂函数来代替构造函数”。即在一个静态工厂函数中创建对象实例，并在将实例的引用返回给调用方之前启动线程。
> 
> 我们绝对不要访问一个处于无效状态中的对象。


之前写代码似乎没有很注意这点：构造函数中对象自身仍是 broke 的，绝对不要泄露它的引用。

## 软件工艺

### 外包的危害

> 所有开发者都必须花时间来从头了解业务领域。
> 
> 项目结束之后，这支团队就会被拆散，开发者被分派到别的项目中去，对于构造这个应用程序的细节知识就此灰飞烟灭。
> 
> 很多人都会常年光顾同一位牙医。软件开发也是如此。

### 学徒开发者

> 没有反馈的实践只会强化错误。

### 理解软件开发

> 软件开发的整个过程可以总结为：获取明确的和隐含的知识，并将这些知识具现化到软件之中。
> 
> 资产的设计过程，是一个社会性的学习过程，知识通过此过程而被具现化为对社会有用的形式。

## 面向模式的软件架构，卷3

### 并发与联网对象

> 内在的复杂性源于基本的领域挑战，比如部分失败的处理，分布式的死锁，以及端到端的服务质量需求。
> 
> 颇具讽刺意味的是，很多偶然的复杂性源自开发人员深思熟虑的选择。他们钟情于某些底层语言和工具，当这些语言和工具应用到复杂的并发和联网软件时，它们的性能并不能按比例增长。
> 
> 不断重新发明和重新发现核心概念及技巧。为已经解决的问题重新创建不兼容的解决方案，软件行业在这方面拥有悠久的历史。
> 
> 在今天这种充满竞争，上市时间决定一切的环境中，这样做往往会导致使用非最优的临时解决方案。
> 
> 承认最优解决方案的不存在，继而对可工作解决方案进行持续的改进，未尝不是工程师成长的体现。
> 
> 使开发人员不再对底层的操作系统和网络协议和机制先入为主。尽管扎实地掌握这些知识非常重要，但这些只属于战术范畴。
> 
> 并发与联网系统相关的内在复杂性包括管理带宽、最小化时延延迟和时延变化或称时延抖动、检测并从部分故障中恢复、确定合适的服务分区和负载均衡策略，以及确保事件的因果序列。
> 
> 并发编程中常见的内在复杂性还包括消除竞态条件和避免死锁，确定合适的线程调度策略。
> 
> 之所以使用联网架构，原因之一就是能提高可靠性，防止单点故障。

## 动物精神

### 为什么中央银行迄今为止有控制经济的权力？

> 美联储扩大或收紧货币供应，进而影响利率，但并不专门针对经济的某个部分。
> 
> 美联储干预经济还有一种方法。它可以直接向问题银行发放抵押贷款来扩张信用；当然，它也可以收回这些贷款，以收缩信用。
> 
> 
> 利率是“时间的价格”。
> 
> 利率就是持有货币的“价格”。
> 
> 在货币需求的例子中，价格就是利率，因此利率的需求弹性也很低
> 
> 1913 年美联储成立时，其目的是模仿欧洲的中央银行，当危机爆发引起人们对流动性的特殊需求时，直接由美联储发放贷款。当时的设想是直接把发放贷款当做美联储的主要工具。美联储要处理的是危机的系统效应，即企业倒闭的传染效应。
> 
> 并非所有的信用机构都能受到这种精心搭建的防御体系的层层保护。在 20 世纪，特别是近年来，一个新的影子银行体系已经成长起来。这些所谓非银行的银行包括投资银行、银行控股公司和对冲基金。从功能来看，它们确实在做“银行”做的事情。它们放出短期贷款，而其中很大一部分资金都是从银行或银行控股公司借来的，然后拿这些资金去投资。... 这些机构也会发生和传统银行一模一样的“挤兑”。

### 为什么经济会陷入萧条？

> 萧条是经济衰退的极端形式。
> 
> 一旦发现物价下跌，雇主们就告诉工人，必须削减工资。... 劳资双方在削减工资问题上剑拔弩张。
> 
> 公众从未完全接受过降低名义工资的观点。由于货币幻觉，被削减了名义工资（如果不是实际工资）的人们会感觉到收到了伤害，因此公众就会寻找理由抵制这样的削减。
> 
> 温和通货膨胀的社会还是比通货紧缩的社会要和谐一点么...
> 
> 1893 年的金融恐慌... 信心突然崩溃，并以银行挤兑的形式爆发出来。... 银行被迫到处张罗现金，向企业索还贷款，短期利率因此飙升，大量企业破产。
> 
> 投资者一心想把投资转手倒卖给其他人，对于真实投资是否合理健康，他们并不确定。
> 
> 那还是一个人人感受到高消费社会压力的时代，因为每个人看到别人这么做，自己也不想被看成是落伍者；他们不担心这种过高消费支出的后果，因为他们觉得别人都不担心。
> 
> 由于金本位的失败，20 世纪 30 年代的大萧条从一个国家传向另一个国家。
> 
> 金本位本来就是有国际性的存在了，比特币如果真正成为国际通货，那么也会有一点类似的流弊吧。
> 
> 过去发生的很多事情都根源于人类的本性，而这些本性历来都有强大的力量。人们还是那么在意公平，还是抵制不住腐败的诱惑，当别人的恶行被揭发出来后还是会憎恨，对通货膨胀还是感到困惑，他们的思想还是受到空洞的故事而非经济理性的支配。

### 故事：公众行为的参照物

> 故事以及讲故事是人类知识的基础。
> 
> 罗纳德·托拜厄斯在 1993 年写道，只有 20 种基本的情节：探索、冒险、追击、营救、逃脱、复仇、谜团、对抗、迫害、诱惑、变局、转型、成熟、爱情、乱伦、牺牲、发现、贪婪、升华和堕落。
> 
> 故事不仅是对现象的解释，而且是现象本身。
> 
> 有关互联网发明和应用的故事，就在 20 世纪 90 年代中期到 2000 年的股市繁荣中发挥了重要的作用。
> 
> 年轻人借此致富的故事就像 19 世纪淘金热的现代翻版。而稳定的技术进步，包括材料科学、化学、机械工程、农业科学等领域的进步，虽然在数世纪以来的经济增长中发挥了主导作用，却从未引起公众的兴趣。
> 
> 有了互联网以后，整个经济就被互联网故事牵着走了。
> 
> 信心并不仅仅是一个人自身的情绪状态，它也是一个人对他信心的一种判断，以及他人对他人信心的洞察。

### 货币幻觉

> 在经济规划者看来，宏观经济政策只不过是在反应通货膨胀和失业的权衡关系曲线上选择一个最佳点。
> 
> 弗里德曼运用这种巧妙的手法彻底改变了宏观经济学。如果没有货币幻觉，通货膨胀和失业水平之间就不存在可以由货币和财政当局决定的权衡关系。

工资的数额和商品的定价如果总是包含对通货膨胀的预期，那么通过短期提高通货膨胀以提高就业的手法就不好用了。

## 企业应用架构模式

### 离线乐观锁

> 应该在任何系统的业务事务冲突中优先考虑（乐观锁）。悲观锁可以作为乐观锁的补充，因此不要考虑何时使用乐观锁，而应该考虑什么情况下光有乐观锁还不够。

### 数据传输对象(Data Transfer Object)

> 很多方面，数据传输对象都是我们被告知永远不要写的对象之一。它经常只不过是一堆字段及它们的 getter 和 setter 方法。这种对象的价值在于允许你在一次调用中传输几部分的信息，这是分布式系统的本质。
> 
> Form Object 也可以算是一种 DTO 吧。
> 
> 数据传输对象的常见格式是记录集。... 记录集就是一个为 SQL 数据库服务的数据传输对象。
> 
> 序列化的一个重要用因素是连接双方的数据传输对象的同步。从理论上说，无论何时服务器改变了数据传输对象的定义，客户也都应该可以同时更新它的数据。

数据传输对象会承担序列化/反序列化的职责。

thrift 那类远程调用工具做的事情，也正是数据传输对象了。

### 远程外观 (Remote Facade)

> 任何对象可能作为远程对象使用时，经常需要一个粗粒度的接口来减少完成某些任务所需要的调用次数。这不仅会影响你的方法调用，同样还会影响你的对象。现在，一个调用中就会包括访问和更改订单及订单的功能，而不会像以前那样分开调用，这会完全影响你的对象结构。你将不得不放弃小粒度对象和小粒度方法带来的清晰意图和小粒度控制所带来的好处。编程变得困难，并且会使生产率下降。
> 
> 分布式对象意味着粗粒度的调用。Ajax 是一个例子，跟前端工程师协作时，总是尽可能地把尽可能多的数据塞到一个响应里。
> 
> 一个远程外观是一个粗粒度的外观（facade），它建立在大量的细粒度对象之上。所有细粒度对象都没有远程接口，并且远程外观不包括领域逻辑。远程外观所要完成的功能是把粗粒度的方法转换到低层的细粒度对象上。
> 
> 任何外观都应该是一层薄薄的皮肤并且只负责很小一部分责任。
> 
> 对 RESTful 服务而言，Facade 对应着 Controller 这一层。
> 
> 远程外观这种模式意味着同步。

### 通盘考虑

> .NET 大力宣传的是 Web Services，但是我不会在一个应用程序内部使用 Web Services，而只会像在 Java 中一样，使用它们作为一种允许应用集成的表现层。
> 
> 在我撰写本书时，专家们关于 Web Services 比较一致的观点是：它使得重用成为现实，并最终导致系统集成商的消失。但是我对此持谨慎态度。Web Services 在本书介绍的这些模式中发挥不了太大的作用，因为 Web Services 是应用集成而不是应用构建的技术。

### 分布策略

> 细粒度接口不能很好地用在远程调用中。.... 当在多个类上应用分布式策略时，最终得到的系统有许多的远程调用，从而需要繁琐的粗粒度接口。
> 
> 因为远程调用的成本，人们倾向于希望在一次调用中完成更多的事情，导致远程调用的接口变得臃肿不堪。
> 
> 分布式对象设计第一定律：不要分布使用对象。
> 
> 在设计系统时必须尽可能限制分布边界。... 最困难的地方在于：要保证结果不会产生太多的远程调用。
> 
> 我认为在 Web Service 中更适合使用异步方式。

### 第二章

> ActiveRecord 就是从行数据入口开始，把领域逻辑加到类中。
> 
> rails 的 ActiveRecord 和 DataMapper 两个 ORM 在模式层面其实区别不大，后者并没有反映 DataMapper 模式的样子，把业务逻辑加到 DataMapper 的子类的话，还是 ActiveRecord 模式。
> 
> django 自带的 ORM 更像 DataMapper 模式一些？
> 
> 关系数据库的映射开销大概是程序开发总开销的 1/3。
> 
> 现代的系统允许把引用完整性检查延迟到交互结束的时候进行。如果有这个能力，没有道理不使用它。

### 分层

> 层次并不能封装所有东西，有时它会为我们带来级联修改。
> 
> 20世纪90年代，随着 C/S 系统的出现，分层的概念更明显了... 问题来自领域逻辑：如业务规则、验证、计算等。通常，人们会把它们写在客户端，但是这样很笨拙，并且往往把领域逻辑直接嵌入到用户界面。... 另一种办法是把这些领域逻辑放到数据库端，作为存储过程。
> 
> MVC 式的分层是面向对象的产物。在 C/S 时代，Client 直接操作控件里的数据源，数据源映射到后端的数据库。现在的同学应该很难分辨哪些关系式数据库的 feature 是 C/S 时代的遗留了。
> 
> 当人们讨论分层时，常常不容易区分 layer 和 tier。... tier 意味着物理上的分离。客户/服务器系统通常被称为 "Two Tier System。"
> 
> 以下因素被 Jens Coldewey 称为复杂性增压器（Complexity Booster）：分布、显式多线程、范型差异（例如对象/关系）、多平台开发以及极限性能要求。

### 引言

> 他认为，架构是一种主观上的东西，是专家级项目开发人员对系统设计的一些可共享的理解。
> 
> 即使是某个企业统一了集成技术，它们也还是会遇到业务过程中的差异以及数据概念的不一致性。
> 
> 我认为“业务逻辑”这个词很滑稽，因为很难再找出什么东西比“业务逻辑”更加没有逻辑。
> 
> 在文件拷贝过程中，为用户提供一个“进度条”，将会提高用户界面的响应性，但并不会提高响应时间。

## 非理性繁荣

### 自由市场中的投机风险

> 新闻媒体并不关心如何向读者和观众提供正确的价值观以及定量分析方法，而是热衷于介绍具有较强的故事性或关于直接用途的内容以吸引观众和读者。
> 
> 投机泡沫的增长以及随后出现的紧缩趋势会导致社会财产分配不均。
> 
> 自由市场体制的一个基本的缺陷是：经济的繁荣总是会伴随着道德标准的衰退，直到一些丑闻暴露出来或者有巨大震撼力的事件出现。
> 
> 早在 1901 年，这种商业怨恨就曾经导致了激进的反垄断主义者制定出企业法律和条例，从而终结了“利益共同体”的大繁荣时代。也恰恰正是这种不平的怨恨在 1929 年后促使社会主义和共产主义的高涨，导致了 30 年代的经济动荡。
> 
> 通过在公众面前掩盖股价在短期内大幅变化的现象，我们可以阻止因股价变化而引起的过度的公众反应，从而防止长期股价趋势随着一天之内的股价巨变而发生变化，这种做法其实是无可厚非的。
> 
> 通过鼓励参与国际交易而扩大市场，可以平衡客户们的不同预期，并对形成更为稳定的股票市场产生积极的影响。
> 
> 如果采取正确的方式扩大市场，那么基本面就会变得格外显著。
> 
> 投机市场的资源配置功能是决定性的。

### 有效市场、随机游走和泡沫

> 有效市场理论认为，能力的差别不会导致不同的投资行为。
> 
> 因此，根据这一理论，努力和智慧在投资中并不算什么。
> 
> 斯蒂芬·菲格莱斯基在 1981 年指出，投资难以卖空的股票可能影响投资的收益。
> 
> 1991 年杰伊·里特发现，公司股票的首次公开发行总是出现在行业投资热的高峰时期，然后在接下来的三年里表现为缓慢和持续的价格下跌。
> 
> 价值投资的战略特征是，从定价过高的个别股票中退出，但在整个市场出现定价过高时不退出市场。

### 从众行为和思想传染

> 那些定期进行沟通和交流的人，他们的想法往往会很相似；同样地，每个时代都有着自己的时代精神，并且它的影响无处不在。
> 
> 处于相同时期的人们会作出相似的判断，部分原因是由于他们是在对相同的信息（大家都能获知这一信息）作出反应。
> 
> 没有人真正地进行什么表决，相反他们很理性地选择不在这些表决上浪费时间，不去自己下功夫对市场作出判断，因而这些人也就没有对市场施加任何独立的影响。
> 
> 人类这一物种最根本的特征就是不间断地进行信息交流。
> 
> 在当今社会，热门股票的买进机会、个人财产面对的直接威胁或者某家公司经营者的经历这类话题就可能很快成为人人议论的对象。... 但是关于一些抽象问题的话题传播就不那么好了，比如金融数学、资产收益统计或者退休储蓄的最佳水平等。
> 
> 印刷媒体、电视和无线电广播等传统媒体在传播思想时神通广大，但在激发主动行为方面就有些束手无策。人与人之间形成互动的交流会对行为产生最重要的影响，特别是面对面或是口头交流。
> 
> 人际间交流具有非精确性和易变动性，使正规的数学模型无法准确预测信息的传播。
> 
> 从许多新产品推广的案例中我们可以看到，编造一个可述性强的故事是很重要的，它有助于维持较高的信息传播率。
> 
> 电影批评家的建议所具有的冲击力不如口头交流的大众影响力。
> 
> 将注意力集中于重要事物的能力是智慧的显著特征之一。
> 
> 人脑进化形成了能够正确引导注意力的一个机制，这使得我们能够基于社会的选择性，与周围的其他人关注相同的事物。
> 
> 人们常常不能解释什么使注意力集中在某些事物上，因此也就不能解释他们自己的行为。

### 股市的心理定位

> 这些行为模式并不是人们无知的结果，而是人类智慧的产物，它反映了人类智慧的长处和局限。投资者总是努力去做正确的事情，但是当他们无法把握自己行为的准确性时，有限的能力和特定的行为模式就会决定他们的行为。
> 
> 人们在模棱两可的情况下做出的决定往往受到身边环境的影响。
> 
> 根据数量定位，人们判断股票定价是否正确。根据道德定位，投资者将投资于股市的情感或直觉力量与他们的财富和当前的消费需求相权衡。
> 
> 不同行业但总部设在同一国家的企业比同一行业但总部设在不同国家的企业有着更加相似的股价变动趋势。
> 
> 导致人们行为的大部分想法并不是数量型的，而是以“讲故事”和“找原因”的形式出现的。
> 
> 
> 如果你听见赌博者的谈话，就会发现他们通常是在讲故事，而不是评价事件发生的概率。
> 
> 人们往往试图寻找一些简单的原因来作为决策的理由并因而导致了决策的偏差。
> 
> 人们在不确定的情况下，假定将来的模式会与过去相似并寻找熟悉的模式来作出判断，并且不考虑这种模式的原因或重复的概率。

### 新时代的经济思想

> 上个世纪发展的整体趋势是人们生活水平的提高以及经济风险对个人生活冲击力的减弱。... 但是新时代的最显著特征在于，经济进步以及人们生活水平的提高不是一个持续平缓的过程，而是一波又一波地推进。
> 
> 经济学家由于过分关注数据，而忽视了一些具有独特价值的新事物，特别是关于最新技术和经营机构的转变，而许多人认为正是他们宣告了新时代的来临。然而，更普遍的情况是，一般公众会对突然流行的关于新时代的故事反应过度，而忽视了变革或者历史上曾多次发生的类似事件之间本质上的相似之处。
> 
> 大致从 20 世纪 60 年代开始，加州居民决定集体解决这一问题。实施的效果是加大了建造新房的难度，使加州地区在 20 世纪 70 年代前后成为最难建筑房屋的地区之一。这一政治变动限制了房屋的供给，使得曾经用以阻止价格上涨的安全阀不再有效。这一点被一些批评家视为富人对穷人、有房者对无房者的胜利。这一胜利受到广泛赞誉，直接推动了已有房屋价值的上升。

### 新闻媒体

> 投机性泡沫的历史几乎是与报纸的产生同时开始的。
> 
> 当市场中的一部分人拥有了相似的想法，这种想法就可能推动一些重大的市场事件的发生，而新闻媒体则是传播这些想法的重要工具。
> 
> 新闻媒体总是会给新闻加上感情色彩。
> 
> 肤浅的观点比深刻的分析更受欢迎，这就是有声媒体的本质。

### 放大机制：自然形成的庞氏过程

> 
> 成功的庞氏骗局往往向投资者编造故事，表明赚大钱的可行性。查尔斯·庞齐向投资者许诺，他能利用国际间回复邮券进行套利来为投资者赚钱。
> 
> 
> 在这些庞氏骗局中有一个重要的现象：最初的投资者对这些骗局是持非常怀疑态度的，因此，只进行了少量的投资。
> 
> 许多人直到最后仍然相信这些骗局，这一点似乎令人十分不解。这也表明了别人赚得巨额钞票的现象会对自己的思维产生影响。
> 
> 一些人在法律允许的范围之内，利用市场的繁荣去构造那些连他们自己都不相信的商业活动。

### 诱发因素：市场经济的急速发展、互联网以及其它事件

> 供给和需求才是真正决定股票市场价格水平的根本因素。
> 
> 了解促使市场变化的因素是非常困难的，因为一些重要的市场事件发生的时间往往与它的诱发因素发生的时间并不完全同步。
> 
> 美国总统乔治·布什曾经称美国社会为 “业主社会”。所谓的似有财产是指每个人拥有的财产，而不仅仅指资本家的财富。布什希望将住宅所有权扩大称为社会产权的一部分，并鼓励人们通过养老账户投资于股票市场。
> 
> 这样的经历促使工人必须尽可能减少对雇主的依赖，掌握自己的命运，使自己称为独立的经济实体，而不是一个庞大的经济组织的一部分。通过追求投机性投资，人们为自己开拓了第二职业。... 工人间的团结和忠诚感逐渐消散，取而代之的是一种追求个人经营成功的风气。
> 
> 因为害怕失去工作，人们在市场经济的浪潮中会进行投资以确保安全，而这种投资实际上降低了人们原本出于预防动机所进行的储蓄水平。
> 
> 现在，人们对成功的商业人士的尊重相当或更甚于对杰出科学家、艺术家或革命家的尊重。
> 
> 1993~2003年间，美国的经济犯罪率每千人下降了 49%，暴力犯罪率每千人下降了 55%。今天人们可以更放心地展示自己的财富，财富也因此更加具有吸引力。
> 
> 就股市的繁荣而言，重要的不是互联网革命对于人们现实生活所产生的无法言语的深远影响，而是这一革命所引起的公众反应。
> 
> 这些强化的财经报道导致了对股票需求的增长。
> 
> 正是以这样一种微妙的方式、兴趣价值或好奇价值，而不是任何理性决策过程鼓励投资者购买大量股票，超出了他们本来的意愿。这种似乎无意识的兴趣帮助抬高了股市价格。
> 
> 建立起参加这种赌博活动的习惯后，人们很自然地逐渐步入更高层次的赌博形式——股票投机。... 禁酒时期的非法活动助长了人们对法律的广泛藐视，促进了赌博的合法化。

### 房地产市场的历史回顾

> 众多世界最著名城市的房价走势如此惊人地相似。
> 
> 人们之所以对房价的上涨印象深刻，可能是因为住房购买频率很低，使得人们能够记住很久以前的购买价格，并对先前的购买价格与目前的差别感到吃惊。
> 
> 1948~2004 年间消费价格指数翻了 8 倍，因此实际住房价格只上涨了 48%，每年涨幅不到 1%。
> 
> 如果房价远高于建筑成本，开发商就有动力向市场供应更多的住房。
> 
> 购买住房相对于股票市场来说是一项收益较低的长期投资。虽然房地产市场偶尔也有波动，但对于长期投资者并没有获利空间。
> 
> 房地产只适合疯涨的时候入场炒短线？
> 
> 2000 年以后《经济学家》开始在不同国家发布房价-租金比的相关数据（类似股市的市盈率指标），直到那时这些数据才被新闻媒体重视。
> 
> 正因为如此，那些可以引发非理性繁荣的公共价格信息，直到 20 世纪末才开始发挥作用。
> 
> 2004 年北京实际住房价格相较 1998 年增幅不过 1%。

### 序言

> 理性人的假设就像阿尔多·帕拉采斯基在 1911 年的超现实主义小说中的主人公 “烟人”（Man of Smoke）一样，这个完全由烟雾构成、实际上什么都不是的家伙，却依靠集体想象成为一个公众人物和权威人士。除非人们转变观念，认识到“烟人”并不是真实的存在，他才能完全消失。

## MongoDB权威指南

### 9.4.2 同步

> 使用从节点来扩展 Mongodb 的读取有个要点，就是数据复制不同步。
> 
> 略坑，这类异步更新就是最终一致性？
> 
> oplog 存储在固定集合中。
> 
> 固定集合是一个 ring buffer，发生溢出时会挤掉最旧的数据。
> 
> 从节点第一次启动时，会对主节点数据进行完整的同步。
> 
> 同步完成后，从节点开始查询主节点的 oplog 并执行这些操作以保证数据是最新的。
> 
> 如果从节点的操作已经被主节点落下很远了，从节点就跟不上同步了。跟不上同步的从节点无法一直不断地追赶主节点，因为主节点所有的 oplog 都 “太新” 了。从节点发生宕机或者疲于应付读取时就会发生这种情况。也会在执行完完整同步以后发生类似的事情，因为只要同步时间太长，同步完成时，oplog 可能已经滚了一圈了。
> 
> 从节点跟不上同步时，复制就会停下，从节点需要重新做完整的同步。

### 9.1.1 选项

> --slavedelay
> 用在从节点上，当应用主节点的操作时增加延时（单位是秒）。这样就能设置延时从节点，这种节点对用户无意中删除重要文档或者插入垃圾数据等事故有很重要的防护作用。

## 海量数据库解决方案

### 索引合并和组合索引的比较

- 索引合并（Index Merge）：分别为 col1 和 col2 设置索引，在检索条件中同时提供 col1 和 col2

- 组合索引（Concatenated Index）：为 (col1, col2) 设置索引

> 只有当合并的索引具有相似的离散度时索引合并才比较有效。
> 
> 在两个索引行数悬殊的情况下，通常只使用其中最好的一个索引负责读取数据，而另外的索引只负责检验即可。
> 
> 避免优化器坏事，把检索拆成两条 sql。
> 
> --------------
> 
> 只有在查询条件中对索引列使用了等值比较时组合索引才能有突出的表现。
> 
> 当组合索引的第一个索引列（通常称为先导列）没有出现在查询条件时，一般情况下该索引无法被使用。

组合索引相当于对 (col1, col2) 这个元组建索引，col1 依然可以作为比较大小的依据，但是索引的范围变大了，导致查询速度不如直接对 col1 做索引；而只拿 col2 作为检索条件的话，完全没作用。

组合索引只在大量 where col1 = ? and col2 = ? 时有显著效果，也可以加速一点 col1 作为条件的检索，所以组合索引需要注意一下先导列的选择。

此外如果 select 的列中仅包含 col1 和 col2，检索完组合索引就相当于读完了数据。

## Erlang/OTP并发编程实战

### 进程隔离与垃圾回收器

> 虽然实现相对简单，Erlang 程序却不太会像其它语言开发的系统那样在 GC 时遭受停顿。这主要是因为 Erlang 进程之间的隔离：每个进程使用的内存都是自己的，随进程的创建和结束而分配和释放。... 这意味着垃圾回收器可以在不影响其它进程运行的前提下单独暂停目标进程。其次，每个进程占用的内存通常较小，遍历可以快速完成。

不过如果真的拿进程当 OO 语言中的对象使用，会不会就成了手工管理内存。

## 学术与政治

### 能以政治为志业的真人

> 当整批的心志政治家突然如雨后春笋般蹦出来，异口同声地复诵道：“愚蠢而庸俗的是这个世界，而不是我；对后果负什么责任，与我无关；这个责任，是那些受我辛勤服务并有待我来扫除其愚蠢和庸俗的其他人的事。”在这个时刻，我公开说，我们首先要问，这种心志伦理的背后，有多大的内在力量。我的印象是，我碰到的十有八九，都是大言炎炎之辈；他们并没有真正认识到，他们想承担的事是怎么一回事，而只是陶醉在浪漫的感动（Sensation）中。就人性方面而言，我对这种东西缺乏兴趣，更毫无使我感动之处。真正能让人无限感动的，是一个成熟的人（无论年纪大小），真诚而全心地为后果感到责任，按照责任伦理行事，然后在某一情况来临时说：“我再无旁顾；这就是我的立场。”这才是人性的极致表现，使人为之动容。

### 以武力为手段的后果

> 在这种活动条件之下，领袖实质上能达成的结果，并不由他本人掌握。他能达成什么，是由他的跟从者的行动的动机来决定的；而从道德的观点来说，这些动机绝大部分都很庸俗。

### 理知化的主要意义

> 理知化和合理化的增加，并不意味人对他的生存状况有更多的一般性的了解。它只表示，我们知道或者说相信，任何时候，只要我们想了解，我们就能够了解；我们知道或者相信，在原则上，没有任何神秘、不可测知的力量在发挥作用；我们知道或者相信，在原则上，通过计算，我们可以支配万物。

### 当前流行的 “人格” 论

> 我们从事学术研究时是否有灵感，靠的是人所不能预知的命运，此外就是靠“天赋”。目前流行一种心态，把这项无可置疑的真理，变成崇拜偶像的借口，这些偶像就是“人格”与“个人体验”。这种崇拜充斥大街小巷与各种报刊，在年轻人的圈子里，尤为风行，这是可以理解的。这两个偶像彼此紧密联系在一起：一般认为，“个人体验”构成人格，并为人格本质的一部分。于是人们使尽解数，努力去“体验”生活。因为他们相信，这才是一个“人格”应有的生活方式。即使“体验”生活没有成功，也得装出一副有异凛的样子。从前德文把“个人体验”称为“感动”，我认为在当时人们对人格及其代表的意义，有更恰当的了解。

比如西藏之旅得到心灵的净化(

### 社会学的界限

> 韦伯时代的社会学，一如其它许多新兴的科学，号称是门具有统摄性的学科。
> 
> 虽然合理性在增长，但这世界仍留存着一个无法消除的非理性的基础，并自其中孕育出信仰与信念等永不退缩的力量。价值与意义一样，都不内在于事物本身。只有靠我们信念的强度，靠在通过行动征服或维护这些事物时所投入的热切程度，这些事物才获得价值与意义。因此，肯定一个价值，必然地蕴涵了对其他价值加以肯定的可能性。所以，霸道地证明某一价值高于其他价值，是不可能的。只有以信仰为基础，某一价值才会为个人或者大多数人所偏好。因此，韦伯并不指望大同和谐，不管是预定在先的，还是人为的。价值之间无从消解的矛盾冲突，只能以共存、妥协或容忍来处理。人类以政治、宗教或经济等价值为名进行观点上的斗争，在这些观点之间，科学没有能力去做裁决。
> 
> 一门经验性的科学，并不能教人应该做什么，而只能告诉他能够去做什么，或在某些情况下，他想要做什么。
> 
> 如此，价值中立的原则，终于获得其完整的意义。拿消极的方面来说，它提醒社会学家不要给人一种错觉，认为他能够处理选择与决定的问题；从而他应该——作为一个学者——拒绝过问他的学科力所不逮的问题。在积极方面，一个科学的命题之所以妥当，是因为学术上的理由，而不是因为武力或伦理道德上的正直等外在的因素。

### 社会学研究

> 韦伯对近代国家的定义是：“一个在某固定疆域内，（在事实上）肯定了自身对武力之正当使用的垄断权力的人类共同体。”
> 
> 他认为俄国的无产阶级专政，终将转变为一种官僚的专政，可见他对官僚体系会有过度的发展早有警觉；然而，他站在价值中立的立场上，看出这种行政系统终将会支配国家及私有企业，因为它符合了近代的理性化趋势的需要。

### 韦伯的学术

> 在人类的行动里，原因和结果是可以互为变化的。一个目标，一旦获得实现，可以变成新企图的原因；更重要的是，任何行之有效的手段，鉴于其相对而言的成功，会自动转换成一项原先所未预见的新行动的原因。
> 
> 在社会科学的领域里，没有严格的因果关系：社会科学研究的途径不以此为谋，而是注重研究者的评估，或是其资料的好坏。
> 
> 既然我们承认，一个社会现象的出现，是由好些个因素所造成的，我们便很难评估其中每一个因素的重要性如何。想要在某一结果与其所有的原因之间，构建起直接、必然、且无所争议的关联，是不可能的。唯一的解决之道，是运用资料来显示，在一个现象与先行因子之间，有某种因果关系存在，但不要奢望对此一关系的必然性有所肯定。
> 
> 既然没有一套普遍被接受的价值系统存在，各人只好参照自己的价值排列尺度。史学家们不断对历史做出新的解释，正是因为他们总是在参照不同的价值。

### 韦伯的学术

> 无论如何，社会学家就其作为科学家的职份而言，绝对不应该去构建一个新的社会。如果他们要这么做，他们便失去了学者的本色，而成为假先知式的骗子。
> 
> 在韦伯眼中，就一种科学的角度而言，并没有哪一种活动，归根结底而论是其他活动的基础。在这一点上，他与马克思主义的分野是截然的。

### 韦伯的政治关怀

> 这个“危险的处境”是什么呢？德国的外交政策此时正在重拟：俾斯麦与俄国的同盟并未续约，与英国建立同盟的机会也未把握住，于是就形成了一种毫无计划的游移的政策。这样一套政策，掩饰在空洞的吹擂和德皇的虚张声势之下，导致德国在政治上的孤立。德国的领导阶层既不愿国家倾向西方，也不愿倾向东方。德国的政策因此反复无常地与所有人作对，至于一连串的挫折，则以大言不惭加以掩饰。
> 
> 民主作为一套具有内在价值的理念——“自然法”、“人的平等”、人生而“权利均等”——并不是韦伯所相信的。他以实效（Pragmaticially）的眼光，来看民主的体制与观念；不从它们“内在价值”的角度，而是从选取能做事的政治领袖这一方面的结果，来衡量民主。
> 
> 韦伯后来所做的政治分析，动机便来自他竭力想寻求一个阶层，在帝国主义竞争的时期里，有能力负担起政治领导的使命。
> 
> 在韦伯看来，官僚系统应该只是技术性的工具，而绝对不是制定政策与在政治上能负责任的机构。如果能够的话，韦伯希望最好能够有卡里斯玛型的领袖出现，虽然他也晓得，在近代社会里，日趋严密而无可摧毁的各种制度，已大大降低了这种“纯粹个人性的因素”在社会结构里扮演决定性角色的机会。
> 
> “知识乃是为了预知，而预知则是为了力量”——孔德实证哲学的这个动机，乃是韦伯观点的基础。虽然他出身“历史学派”，但是对历史及其独特性，他绝对不采取任何求取道德教训的态度。
> 
> 知识多少是力量——这是一个没有权力的人对知识的这番追求背后的动力。掌握这种政治关怀，我们才能了解他思想上的取向。

### 韦伯小传

> 1909 年，弗洛伊德的一位弟子在海德堡的知识圈子里出现。他以一套新的心理健康的生活规范为名，贬斥传统维多利亚式的想法中夫妻间的忠实及在道德上合理的嫉妒。韦伯的友人中间，有人因为把这套说法付诸实行，陷入了悲剧性的纠缠和道德上的难局中。韦伯对他们充满了同情。在他看来，精神医学上有价值但不精确的一些慧见，和一套庸俗地以“健康的神经”为尚的伦理，混淆在了一起；对于这种混淆，韦伯的反应很强烈。他不愿意把健康的神经当成一种绝对的价值，也不愿意以压抑对神经造成的伤害为单位，来计算压抑有多少道德上的价值。

听长辈和前辈们屡屡提起 “身体最重要”，但是潜意识上还是排斥把健康当作绝对价值的吧。

### 韦伯小传

> 在自由的社团里，个人必须在平等的同僚面前证明自己的能力；这种社团里，没有权威的指挥，而是靠民主的决定、良好的判断和负责任的言行来培养训练出来公民；最令韦伯动容的，是这种社团所培育出来的一种具有恢弘才干的人。
> 
> 1918年，韦伯在一封信中向一位同僚建议，德国应该以美国的俱乐部形态（club pattern）为借鉴，作为“再教育”德国人的一种方式。他写道：因为“除了在教会形式下的残存之外，权威主义现在已完全失败”。韦伯看出了“志愿社团”与自由人的人格结构间的关联。... 他深信，和权威制度下命令与禁制的方法比起来，一套使个人始终受到压力必须去证明自己的自动淘汰人的方式，就“锻炼”人这个目的而言，效果要深得太多。权威主义徒具外在的约束力量，却无法达到人的内心深处，一旦权威主义的外壳被相反的力量击破，当事人便完全没有能力自制自主。

### 韦伯小传

> 在各州分权的制度下，社会立法完全无法进行；许多劳工领袖贪污腐化，先鼓动罢工，然后迫使厂商贿赂他们来摆平工人的罢工。
> 
> 不过，韦伯是从一个辩证的角度，来看此一“构建机器”的过程：民主政府必须反对官僚体制，因为后者会逐渐让官吏形成一个封闭而排外的身份团体，其成员的专业训练、考试证书和确保衣食无忧的终身职，使他们远离一般民众。
> 
> 韦伯屡次提到美国工人反对公务员制度改革：他们所持的理由是：他们宁可要一批他们可以赶下台、可以鄙视的的腐败政客，而不愿受一批蔑视他们并且赶不走的专家官吏的治理。

## Java并发编程实战

### 避免热点域

> 当每个操作都请求多个变量时，锁的粒度将很难降低。这是在性能与可伸缩性之间相互制衡的另一个方面，一些常见的优化措施，例如将一些反复计算的结果缓存起来，都会引入一些“热点域”，而这些热点域往往会限制可伸缩性。

### 资源死锁

> 资源池通常采用信号量来实现。
> 
> 如果某些任务需要等待其它任务的结果，那么这些任务往往是产生线程饥饿死锁的主要来源，有界线程池/资源池与相互依赖的任务不能一起使用。

goroutine 里面相互依赖的任务该挺多吧，而且也是有界线程池？

### 开放调用

> 如果在调用某个方法时不需要持有锁，那么这种调用称为开放调用。依赖于开放调用的类通常能表现出更好的行为，并且与那些正在调用方法时需要持有锁的类相比，也更容易编写。
> 
> 分析一个完全依赖于开放调用的程序的活跃性，要比分析那些不依赖开放调用的程序的活跃性简单。
> 
> 在重新编写同步代码块以使用开放调用时会产生意想不到的结果，因为这会使得某个原子操作变为非原子操作。在许多情况下，使某个操作失去原子性是可以接收的。

是说 synchronized 关键字用在业务代码的方法上会很坑么。为了避免死锁，方法的原子性有时候是可以牺牲的。慎用 synchronized 方法，除非只跟私有字段打交道。

### 在协作对象之间发生的死锁

> 在 LeftRightDeadLock 或 transferMoney 中，要查找死锁是比较简单的，只需要找出那些需要获得两个锁的方法。然而要在 Taxi 和 Dispatcher 中查找死锁则比较困难：如果在持有锁的情况下调用某个外部方法，那么就需要警惕死锁。

在持有锁的时候不能调用外部方法，可不可以通过静态分析来防止呢。

### 动态的锁顺序死锁

> 有时候，并不能清楚地知道是否在锁顺序上有足够的控制权来避免死锁的发生。

<代码开始 lang="java">
public void transferMoney(Account fromAccount, Account toAccount, DollarAmount amount) throws InsufficientFundsException {
  synchronized (fromAccount) {
    synchronized (toAccount) {
      if (fromAccount.getBalance().compareTo(amount) < 0) {
        fromAccount.debit(amount);
        toAccount.credit(amount);
      }
    }
  }
}
</代码结束>

锁定对象的顺序来自于外部参数，使上锁的顺序不可控。解决方案是对 fromAccount 和 toAccount 进行排序，按唯一顺序上锁。C 的话直接按指针排序就行了，似乎也是 kernel 的做法。

### 管理队列任务

> 如果线程池较小而队列较大，那么有助于减少内存使用量，降低 CPU 的使用率，同时还可以减少上下文切换，但付出的代价是可能会限制吞吐量。
> 
> 只有当任务相互独立时，为线程池或工作队列设置界限才是合理的。如果任务之间存在依赖性，那么有界的线程池或队列就可能导致线程“饥饿”死锁问题。此时应该使用无界的线程池。

### 设置线程池的大小

> 对于计算密集的任务，在拥有 N 个处理器的系统上，当线程池大小为 N+1 时，通常能实现最优的利用率。（即使当计算密集型的线程偶尔由于页缺失故障或者其它原因而暂停时，这个“额外”的线程也能确保 CPU 的时钟周期不会被浪费。）对于包含 I/O 操作或者其它阻塞操作的任务，由于线程并不会一直执行，因此线程池的规模应该更大。
> 
> 计算每个任务对该资源的需求量，然后用该资源的可用总量除以每个任务的需求量，所得结果就是线程池大小的上限。
> 
> 
> 当任务需要某种通过资源池来管理的资源时，例如数据库连接，那么线程池和资源池的大小将会相互影响。如果每个任务都需要一个数据库连接，那么连接池的大小就限制了线程池的大小。同样，当线程池中的任务是数据库连接的唯一使用者时，那么线程池的大小又将限制连接池的大小。

### 中断策略

> 对于非线程所有者的代码来说，应该小心地保存中断状态，这样拥有线程的代码才能对中断做出响应。
> 
> 批评者嘲笑 java 的中断功能，因为它没有提供抢占式的中断机制，而且还强迫开发人员必须处理 InterruptedException。然而，通过推迟中断请求的处理，开发人员能定制更灵活的中断策略，从而使程序在响应性和健壮性之间实现合理的平衡。

### 使用 CompletionService 实现页面渲染器

> 因此，CompletionService 的作用就相当于一组计算的句柄，这与 Future 作为单个计算的句柄是非常相似的。

### 双端队列和工作密取

> 正如阻塞队列适用于生产者-消费者模式，双端队列同样适用于另一种相关模式，即工作密取（Work Stealing）。在生产者-消费者设计中，所有消费者有一个共享的工作队列，而在工作密取设计中，每个消费者都有各自的双端队列。如果一个消费者完成了自己的双端队列中的全部工作，那么它可以从其它消费者双端队列末尾秘密地获取工作。密取工作模式比传统的生产者-消费者模式具有更高的可伸缩性，这是因为工作者线程不会在单个共享的任务队列上发生竞争。在大多数时候，它们都只是访问自己的双端队列，从而极大地减小了竞争。当工作者线程需要访问另一个队列时，它会从队列的尾部而不是头部获取工作，因此进一步降低了队列上的竞争程度。
> 
> 工作密取非常适用于既是消费者也是生产者问题—当执行某个工作时可能导致出现更多的工作。例如，在网页爬虫程序在处理一个页面时，通常会发现有更多的页面需要处理。

### 不变性

> 当满足以下条件时，对象才是不可变的：
> - 对象创建以后其状态就不可修改
> - 对象的所有域都是 final 类型
> - 对象时正确创建的（在对象的构造期间，this 引用没有逸出）
> 
> 
> 从技术上来看，不可变对象并不需要将其所有的域都声明为 final 类型，例如 String 就是这种情况，这就要对类的良性数据竞争情况做精确的分析，因此需要深入理解 Java 的内存模型。... 自己在编码时不要这么做。

没错，内存模型并不是为业务程序员准备的。Doug Lea 给你警告了，不要自大。

### 线程封闭

> 一种避免使用同步的方式就是不共享数据。如果仅在单线程内访问数据，就不需要同步。这种技术称为线程封闭，它是实现线程安全的最简单方式之一。
> 
> 在  Swing 中大量使用了线程封闭技术。Swing 的可视化组件和数据模型对象都不是线程安全的，Swing 通过将它们封闭到 Swing 的事件分发线程中来实现线程安全性。
> 
> Cocoa 的 Grand Central Dispatch 该也是类似的技术。
> 
> 线程封闭技术的另一种常见应用是 JDBC 的 Connection 对象。JDBC 规范并不要求 Connection 对象必须是线程安全的。在典型的服务器应用程序中，线程从连接池中获得一个 Connection 对象，并且用该对象来处理请求，使用完后再将对象返还给连接池。... 这种连接管理模式在处理请求时隐含地将 Connection 对象封闭在线程中。

### 发布与逸出

> 无论其她的线程会对已发布的引用执行何种操作，其实都不重要，因为误用该引用的风险始终存在。
> 
> 如果有人窃取了你的密码并发布到 alt.passwords 新闻组上，那么你的信息将 “逸出”：无论是否有人会恶意地使用这些个人信息，你的账户都已经不再安全了。发布一个引用同样会带来类似的风险。


闭包的问题就在于太容易逸出变量了，而且很难控制。

### volatile 变量

> 加锁机制既可以确保可见性又可以确保原子性，而 volatile 变量只能确保可见性。
> 
> 当且仅当满足以下所有条件时，才应该使用 volatile 变量：
> - 对变量的写入操作不依赖变量的当前值，或者你能确保只有单个线程更新变量的值。
> - 该变量不会与其它状态变量一起纳入到不变性条件中。
> - 在访问变量时不需要加锁。

### 线程安全性

> 当执行时间较长的计算或者可能无法快速完成的操作（例如网络IO或控制台IO）时，一定不要持有锁。

### 线程安全性

> 在一些大型程序中，要找出多个线程在哪些位置上将访问同一个变量是非常复杂的。幸运的是，面向对象这种技术不仅有助于编写出结构优雅、可维护性高的类，还有助于编写出线程安全的类。访问某个变量的代码越少，就越容易确保对变量的所有访问都实现正确的同步，同时也更容易找出变量再哪些条件下被访问。
> 
> 程序的封装性越好，就越容易实现程序的县城安全性，并且代码的维护人员也越容易保持这种方式。
> 
> 完全由线程安全类构成的程序不一定是线程安全的，而在线程安全类中也可以包含非线程安全的类。
> 
> 正确性的含义是指，某个类的行为与其规范完全一致。在良好的规范中通常会定义各种不变性条件（Invariant）来约束对象的状态，以及定义各种后验条件（Postconditions）来描述对象操作的结果。
> 
> 任何情况下，只有当类中仅包含自己的状态时，线程安全类才是有意义的。
> 
> 通常，线程安全性的需求并非来源于对线程的直接使用，而是使用像 Serverlet 这样的框架。
> 
> 最常见的竞态条件类型就是“先检查后执行”操作，即通过一个可能失败的观测结果来决定下一步的动作。

## 论中国

### 美国的窘境

> 一国社会的基本走向受其价值观的影响，价值观阐明了社会的终极目标。与此同时，承认自己能力有限是政治家韬略的考验之一，它意味着必须判断出什么是可能实现的目标。哲学家相信自己的直觉，评价政治家则看他们提出的理念是否能经受时间的考验。
> 
> 试图从外部改变中国这样一个庞大国家的国内体制，有可能带来始料不及的严重后果。美国社会永远不应放弃对人的尊严的承诺。

### 又一次和解：江泽民时期

> 我尊敬哪些准备为传播美国价值观而战斗的人，可是外交政策既要确立目标，也要确定方法，如果采用的方法与国际框架相抵触，或者伤及国家安全至关重要的外交关系，就必须做出选择。我们绝不能贬低这种选择的性质。在美国国内的辩论中，最佳结果是将两种途经合二为一——理想主义者承认实现原则需要时间，因而必须根据情况市场调整；“现实主义者”接受价值观有它的道理，必须纳入到政策运作之中。这样的方法认为，每个阵营都有许多层次，应当努力让它们相互补充。但在实际的运作中，这一目标经常被狂热的争论所淹没。

### 尼克松与周恩来的谈话

> 实用主义就够了吗？实用主义可以解决利益冲突，也同样可以使冲突更为激烈。各方自然比对方更了解自己的目标。若从实用角度作一些必要的让步，则会被国内的反对党利用，说这是示弱的表现，当然这也要看自己国内的地位是否稳固。因此，双方都想不断抬高自己的价码。

## 金融炼金术

### 信贷与管制的周期

> 中央银行体制的演化就是一个为了防范突然的、灾难性的信贷紧缩而不懈努力额历史。
> 
> 管制措施通常是为了阻止上一次的灾难，而不是下一次的意外。
> 
> 无限补漏的回归测试...
> 
> 一方面，在情况迅速变化时，管制的缺陷尤其明显；另一方面，缺少管制则导致市场出现更为严重的动荡。
> 
> 市场经济也倾向于在过度管理和管制不足之间来回摆动。.. 每一次危机之后中央银行都变得更强有力。

软件系统也倾向于在过度设计和设计不足之间来回摆动。

### 第二章 股票市场中的反身性

> 希望熟悉技术的人必须持续地关注产业发展动态，想利用参与者的认知与现实之间的背离牟利的人，则必须不断地从一个行业转向另一个行业集团。大多数技术专家对反身性毫无认识，一厢情愿地指望永远维持足够的投资。

### 第二章

> 在 1974 年的股票市场崩盘后，投资商需要通过外部渠道筹资以提高股权资本额公司都怀有戒心。分散的数据处理公司尚处于早期的发展阶段，像 Datapoint 和 Four-Phase 那样的新公司尚处于早期的发展阶段，而 IBM 则远远落后在后面，市场实际上正在剧烈膨胀，但这些小公司因筹资困难而被拖住了后腿。它们的股票市盈率很低，不利的说法主要是它们不可能通过迅速的增长满足产品的需求，而 IBM 最终会进入市场。
> 
> 在适合小公司生存的各种小环境汇集成一个大市场后，它们大多为更大的公司所吸收，那些坚持独立的小公司则陷入了困境。

### 第一章 反身性理论

> 显然，个别科学家的孤立观察是得不到认可的。确认事实与陈述之间的一致及其困难，正因为如此，科学才是集体的事业，其中每个科学家的工作都必须接受其它成员的约束和批判。
> 
> 科学家之间的相互约束是约定俗成的，这些约束既没有清楚的定义也不是永远不变的，它们的权威来自于能够产生所需要的结果，时常会有个别科学家不堪忍受这些极为繁难的约束，试图走捷径。仅仅因为这些捷径没有一条能够走的远，科学方法的约束才可能继续保持其权威。


垠神算不算这个别的科学家...

## 多处理器编程的艺术

### Spin Locks and Contention

> 
> the TASLock performs very poorly, and the TTASLock performance, while substantially better, still falls far short of the ideal.
> 
> 
> TASLock: Test And Set Lock
> TTASLock: Test and Test And Set Lock，相比 TAS ，增加了一个 double check：
> 
> 
> <代码开始 lang="java">
> public class TTASLock Implements Lock {
>   AtomicBoolean state = new AtomicBoolean(false);
>   public void lock() {
>     while (true) {
>       while (state.get()) {} ;
>       if (! state.getAndSet(true)) {
>         return ;
>       }
>     }
>   }
> 
>   public void unlock() {
>     state.set(false);
>   }
> }
> 
> </代码结束>
> 
> Now consider the behavior of the TTASLock algorithm while the lock is held by a thread A. The first time thread B reads the lock it takes a cache miss, forcing B to block while the value is loaded into B's cache. As long as A holds the lock, B repeatly reread the value, but hits in the cache every time. 
> 
> TTASLock 比 TASLock 优良在于更多地读取本地缓存，而不是每次都锁总线。
> 
> This notion of local spinning, where threads repeatly reread cached values instead of repeatedly using the bus, is an important principle critical to the design of efficeient spin locks.
> 
> Here is a key observation: if some other thread aquires the lock between hte first and second step, then, most likely, there is high conteniton for that lock.
> 
> the larger the number of unsuccessful tries, the higher the likely contention, and the longer the thread should back off .
> 
> backing off is common to several locking algorithms.
> 
> the BackoffLock is easy to implement, and typically performs significantly better than TASLock on many architectures. 

如果 double check 第一步失败了，那么它很有可能是在高的 contention，那么在这里退避是一条简单易行的优化路线；contention 越高，退避的时间可以越长。

## Effective Java 第二版 中文版/Sun公司核心技术丛书

### 谨慎地做优化

> 使公有的类型成为可变的，这可能会导致大量不必要的保护性拷贝。

## 中國近代史（下冊）

### 人事变动

> 邓小平亲自导演了九十多位批评市场导向改革的党内元老引退。
> 
> 随着保守派的大部分批评被抑制，改革派获得了全速前进的授权。但是，他们知道，退休的老人并没有放弃他们的影响。他们愿意退休或许是因为达成了这样的谅解：他们支持的人选李鹏将任命为政治局常委，并将以后出任总理。

### 反对资产阶级自由化

> 引人注目的是，邓小平在整个春天里保持着沉默，疗治他因损失胡耀邦而引起的内心痛楚。

### 粉碎四人帮

> 在会上，他们决定与福州军区和南京军区建立联盟来对抗四人帮，并以广州位大本营。如果江青篡夺了政权，他们将建立一个临时中央与她抗衡。
> 
> 华国锋反驳说他不仅能够胜任，而且还知道如何“解决问题”——过后一想，这是一种表明他有意要清除四人帮的预兆。
> 
> 华国锋和叶剑英负责各个方面，陈锡联受命担负保卫北京的责任，汪东兴则负责逮捕四人帮。与此同时，广州军区进入警戒状态，随时准备接到命令就派两个师空运到北京。
> 
> 四人帮控制不了军队，只控制新闻媒体，而媒体是缺乏组织与火力的。因此他们非常依赖对媒体和文化舞台的控制来制造公众舆论，营造一种夸大的权力形象。他们听到了响亮的支持声，也受到了广泛的报道，这些东西或许诱使他们认为自己非常强大，而实际上他们并不那么强大。

公司的 PR 也是这样，对公众的影响可能效果达不到，却首先蒙蔽了自己。

### 国民政府在台湾的统治

> 在大陆遭受惨败的国民政府，在台湾却成功地将这座岛屿建设成了一个"模范"省份和亚洲的出色地区。台湾人民在物质上享受着中国历史上从未有过的普遍小康和高生活水平。然而，尽管有这些外表的繁荣，它终究只是个作为有限的小岛。它不是中国的精神之乡。年纪较大的大陆人感到没有社会根基，思想孤立，精神空虚。年轻人则因为没有施展才华的余地而泄气。许多人的最大愿望是移居他处谋求新的生活。虽然大陆人仍然渴望会到大陆，但想法实际的人知道，这只是一个梦想，在他们有生之年难以实现。“回大陆去”的口号已经沉寂了，相反，人们更看重把台湾说成一个具有永久价值的“宝岛”。台湾不再是一个最终回归大陆之前的中转站，而是成了一个可以逃脱共产党统治的栖身之地。物质上的繁荣与精神上的焦虑共生共存，这验证了一条出自圣经的真理：人能仅仅靠面包生存。他需要有希望才能过上有意义的生活。

### 共产党的挑战

> 毛泽东所采取的非正统做法，令他处在了与莫斯科和中共政治局对立的地位。然而他最终取得了共产党采用的所有策略中最大的成功。
> 
> 共产国际的政策..  中共的革命策略基本上是由斯大林在几千英里外遥控的，而他的指令时而是凭空想象的产物，时而是与托洛茨基争吵的结果。
> 
> 在土地改革问题上，毛泽东主张将各类土地一视同仁地平均分配给小地主、富农和贫农，而政治局委员们却坚持要彻底地剥削地主、并按牺牲富人偏袒穷人的原则重新分配土地。
> 
> 这段跟《毛泽东：鲜为人知的故事》有出入。
> 
> 最后的致命打击发生在1934年7月，其时，在瑞金的博古和在莫斯科的王明合谋从共产国际获取了一份指令，将毛泽东隔离起来，禁止他出息党内会议。从7月开始的三个月里，他被软禁在瑞金以西60英里处的云都，直到是年10月长征开始时才被释放。
> 
> 
> 一些不受二十八个布尔什维克喜欢的毛派分子和党的前任领导人被留下来保卫根据地，其中包括粟裕、陈毅和翟秋白。毛泽东的两个孩子也被留了下来。

在《鲜为人知的故事》里，毛泽东在长征开始时抛弃贺子珍和孩子的事实被用作证明此人冷血无情的证据。

### 主义与问题

> 自相矛盾的是，在二十世纪二十年代时，社会和政治问题急需迫切和直接的解决，但胡适及其追随者在宣扬“多研究些问题”后，竟钻研起文学批评、古代史和考据这些不大实际的工作来。另一方面，许多“主义”和提倡根本变化的人走到工农中，直接研究他们的问题。很明显，胡适没有看到实用主义是稳定的美国社会的产物，那里容许自由检验问题和实行改造，而军阀混战时期的中国，完全缺乏实验和逐步改造所必须的社会政治条件。

## C++语言的设计与演化

### 7.4.3 期望与看法

> 人们经常对 AT&T 容许其他人实现 C++ 的行为表示诧异，这实际上说明了他们很不了解法律及 AT&T 的目标。一旦出版了 C++ 的参考手册，就再没办法去组织任何人写出一个实现了。进一步说，AT&T 不止是允许其他人加入 C++ 的实现、工具和教育等这样蓬勃发展的大市场，它还欢迎和鼓励他们这样做。大部分人都忽略了这样一个事实，那就是 AT&T 作为程序设计产品的消费者远远大于它作为一个生产者。因此，AT&T 从 C++ 领域的竞争者那里获益匪浅。

### 第三章 C++ 的诞生

> 我过去和现在的印象都说明，许多程序设计语言和工具都是在提供了解答之后再去寻找问题，而我则确定自己的工作绝不能混同于这一类东西。
> 
> 良好设计的关键是对问题的深入认识，而不是提供了多少最高级的特征。
> 
> 写它（《C++程序设计语言》 ）的时候我带着强烈的决心，不准备去鼓吹任何特殊的程序设计技术。基于同样的想法，我也害怕由于忽视和家长式作风的误导而给语言构筑一些限制。我不希望这本书变成一篇有关自己个人爱好的宣言。

### 1985-1993 年表

> 标准化绝对不是一件容易的事情。在这个委员会里有各种各样的人，有的人来到这里就是为了维持现状；有的人带着一个有关现状的想法，希望能够把时间拨回到几年之前；有的人希望能与过去做彻底的决裂，设计出一个全新的语言；有的人只关心某一个问题；有的人只关心某一类系统；有的人在投票时完全看他们雇主的脸色行事；有的人只代表他们自己；有的人带着有关程序设计和程序设计语言的理论观点；也有的人希望的事今天就有一个标准，即使这意味着遗留下许多没有结论的问题；有的人则除了一个完美的定义之外什么也不能接受；有的人还认为 C++ 完全是一个新语言，几乎没有什么用户；有的人则代表着再过去 10 年里写出了成百万行代码的用户；如此等等。
> 
> 在标准化的规则下，我们都必须或多或少表示同意，必须达成“一致”（通常定义为一个很大的多数）。存在一些合理的规则——即使不太合理，它们也是委员会必须遵守的国家或者国际的规则。所有的利益都是合法的，让一个多数压服一个很大的少数的利益，最终将会产生一个标准，它只对某个过分狭隘的用户社团有用。这样，委员会的每个成员都要学会尊重那些看起来是异己的观点，学会妥协。这些倒很符合 C++ 的精神。

### 第十六章 异常处理

> 为了做出可靠的系统，你需要尽快地把非同步事件映射到某种形式的进城模型中。
> 
> 低级中断系统应该尽可能与普通程序分离。

想起来 linux 的 signalfd() 系统调用蛮讨喜的。

### 第十六章 异常处理

> 经过了几年的讨论，给我留下最深刻印象的是，一个人可以站在任何位置，编织出一套能使人信服的逻辑论据。在论述异常处理的开创性论文中就这样做的。我们现在是站在古希腊哲学家的位置，在争论着宇宙的本质方面，如此的激烈而敏锐，以至于根本就忘记去研究它了。

### 第268页

> 看起来对每个可能的语言及其每种使用都存在“很好的证据”，我们还需要数据。如果没有数据和适当的评估试验，我们就会像那些希腊哲学家，他们确信宇宙中的所有东西都是由某几种物质组成的，他们天才地辩论了几个世纪，然而还是无法确定究竟是哪四种（或者是五种）基本物质。

## 系统之美

### 系统之奇的根源

系统中很多关系都是非线性的。

世界是普遍联系的，不存在孤立的系统；如何确定系统的边界，取决于你的分析目的。

任何成长都存在限制。

放在反馈回路中存在较长的时间延迟，具备一定的预见性是必不可少的。

系统中每个角色的有限理性有可能无法产生促进系统整体福利的决策。

### 层次性

在具有层次性的系统中，各个子系统内部的联系要多于并强于子系统之间的联系。

当某个子系统的目标而非整个系统的目标占了上风，并牺牲整个系统的运作成本去实现某个子系统的目标，我们将这样的行为的结果称为次优化。

层次性原本的目的是帮助各个子系统更好地做好其工作，不幸的是，系统的层次越高或越低，越容易忘记这一目的。

### 信息流：谁将获得信息的结构

信息流的缺失是系统功能不良最常见的原因之一。

从人性的角度上看，存在一种系统性的倾向，即人们避免对自己的决策承担责任。这就是为什么有如此多的反馈回路丢失了。

### 相信、尊重并分享信息

从某种意义上讲，信息就是权力。任何对权力感兴趣的人都会很快认同这一观点。媒体、公众人物、政治家、广告发布者等对公众信息传播有一定影响力的机构，都有很大的权力，甚至超过了大多数人的想象。在很多时候，他们会为了自己的利益，在短期内对信息进行过滤，有选择地发布信息，并对信息流进行引导。这可能就是我们所在的社会系统经常会变得失控的原因。

### 转嫁负担：上瘾

> 在一些大型系统中也存在上瘾症状，并有各种不同的表现形式。例如，一些企业或行业对政府补贴的依赖，农民种地对肥料的依赖，西方国家经济体系对石油的依赖，或者军火制造商对政府合同的依赖等等。
> 
> 将负担转嫁给干预者有可能是件好事。
> 
> 但是，干预也可能变成一个系统陷阱。
> 
> 如果这种干预削弱了系统原本维持其自身的能力，不论干预者是由于主动破坏造成的，还是无意忽略，陷阱就形成了。
> 
> 随着系统对干预者的依赖日益增加，最终会耗尽干预者的能力。
> 
> 具有上瘾性的政策是阴险的，因为它们很好 “兜售”，也很简单，容易让人上当。
> 
> 要想防止陷入上瘾的状态，需要以适当的方式干预，即增强系统自身应对负担的能力。“帮助系统改进自身” 这一观点，可能比接管并运作系统成本更低，也更容易，但一些自由派政治家却似乎无法理解。秘诀在于，不要以英雄式的接管开始，而是从提出一系列问题开始。
> 
> 应对这一陷阱的最好办法是提前预防，防止跌入陷阱。一定要意识到只是缓解症状或掩饰信号的政策或做法，都不能真正地解决问题。

### 系统之杠杆点

> 杠杆点所处的层次越高，杠杆作用就越大，系统抵制变化的力量就越强——这就是为什么社会总是排斥或者消灭那些真正开悟的人。
> 
> 抑制力..
> 
> 你必须努力思索，审慎地分析系统，并抛弃自己的范式，进入谦卑的 “空” 的境界。

荒耶，汝欲何求...

## 压力下的角逐

### 第二章 打造成功团队

> 只要有人的地方就有政治，IBM 的办公室政治该怎么玩？那些人都是技术精英，也是政治高手。

操

### 第一章

> 芯片工程师很少有机会能从一张白纸开始设计工作，这是因为微机和服务器市场要求与前几代软硬件产品要有兼容性，新版的文字处理软件应该能打开旧版本的文档，对更复杂的应用更是如此。考虑到过高的人力成本、过长的市场周期、不断提高的设计复杂度、成本过高的专用工具，人们一般倾向于尽量依赖之前已有的设计。能够参与这项设计，是个令人垂涎的机遇，也是促使我回到IBM的原因。全新设计会让那些厌倦了系列产品或别人设计过的部件的工程师很兴奋，这给予他们创新的机会，如果成功，则能改变整个家庭计算业的图景。

## 古代东方史

### 以色列和犹太的分立

> 统一的以色列-犹太王国并不巩固，巴勒斯坦的北部，以色列在经济与文化上是同腓尼基、北叙利亚与大马士革有密切联系的富饶农业地区。犹太人占居民大多数的南巴勒斯坦，在许多地方保存了畜牧经济古代的和原始的各种形式。

## Go 语言程序设计

### 第一章 5 个例子

> Go 语言的官方编译器成为 gc，包括编译工具 5g、6g 和 8g，链接工具 5l、 6l 和 8l，以及文档查看工具 godoc。
> 
> plan9 的人没必要把机器 80 字符限制时候的命名习惯带到现代吧...
> 
>  4.6 以上版本的 gcc 都包含这个工具 (gccgo)。
> 
> 还有一个 log.FatalF() 函数可以接受 % 格式的占位符。

不喜欢 FatalF() 这个名字。最近反而越来越认同 Java 的命名。简洁的命名是好事，就像权力继承时选择最贤明的人是理想情况，但是怎样判定贤明，很容易被误导并反复。"简洁的命名" 也是如此，将它作为理念的话，会失去对命名的可靠预期。

## 代码大全（第2版）

### 工具幻境

> 软件工业界不断地开发出新的工具，用于减少或消除编程过程中某些最单调乏味的工作的数量，像是：源代码中语句的排布细节、编辑/编译/链接/运行程序所需的一堆步骤、查找不匹配的括号、创建标准的消息框所需的若干步骤等等。每个新工具证明它对生产率有增益的时候，某些鼓吹者就会对这些增益额外推至无穷大，设想这些增益能“消除对编程的需求”。

## Remote

### what about culture?

> Culture is the spoken and unspoken values and actions of the organization .
> 
> the best cultures derive from actions people actually take, not the ones they write about a mission statement.

## 深入Linux内核架构

### 网络

> 网络子系统是内核中涉及面最广、要求最高的部分之一。为什么是这样呢？答案是，该子系统处理了大量特定于协议的细节和微妙之处，穿越各层的代码路径中有大量的函数指针，而没有直接的函数调用。这是不可避免的，因为各个层次有多种组合方式，这显然不会使代码路径变得更清楚或更易于跟踪。此外，其中涉及的数据结构通常彼此紧密关联。

### 2.6.3

> However, if the sleeper has accumulated a large unfairness as indicated by a large se_vruntime value, the kernel must honor this. If se->vruntime is larger than the previously computed difference, it is kept as the vruntime of the process, which leads to a leftward placement on the red-black tree — recall that large vruntime values are good to schedule early!


这一段是不是写反了？

大的se_vruntime意味着不公平？
大的vruntime更容易被调度执行？

## 中國近代史（上冊）

### 外国侵占台湾、新疆与安南

> 
> 自1759年乾隆帝征服新疆以后，新疆便一直被当作一个军事殖民地管辖。
> 
> 
> “军事殖民地” 固然远比班超合纵连横的控制有效的多。
> 
> 这个协定的第二个重要后果，是新疆的地位发生了变化。新疆历来被看作是“西域”，从来就不是中国的本土部分，而一直是边疆地区，中国强盛时便拥有它，衰落时便丧失它。《圣彼得堡条约》以后，清廷接收左宗棠的建议，于1884年将新疆改为行省，并认命在收复新疆中功绩卓著的年轻骁将刘锦棠为首任巡抚。

反观我朝的自治区和生产建设兵团仍是军事殖民地那套，一直在防人家闹独立，就别对人家闹独立大惊小怪了

### 1898年的维新运动

> 康有为决定夺取今文经血运动的领导权，把公羊学的关键思想糅合进自己的著作，借此支持他提倡的改制。1891年，他完成了第一部主要著作《新学伪经考》，揭露诸如《周礼》、《仪礼》、《左传》和《毛诗》之类的古籍为伪作。康大胆地认为：1，秦焚书并未伤及六经，儒家典籍完好无损地传给了后世；2，因此，前汉时期并无古文这样的东西；3、孔子时代使用与秦汉相同的“小篆”字体；4，所谓的古文是刘歆伪造的，是歪曲儒家“微言大义”的阴谋的一部分，目的是“饰经佐篡”。抛开历史的严密性，康一针见血的观点、大胆地假设和尖锐的批评，如同一场飓风横扫清朝思想界。他对古文的攻击，激发起怀疑精神，同时表明了重新评估古代典籍的重要性。
> 
> 1897年，他完成了第二本著作《孔子改制考》。他大胆论断：前人认为孔子只是编撰六经是错误的，实际上，孔子著述六经及借此推进改制。其它的周代和秦代思想家也像孔子一样提倡改制，所有这些人都在取法过去的托词下为自己的行动辩护。他们杜纂了理想化的辉煌过去，使当代的统治者相信变法是明智的，如同尧舜所为。这一切与历史事实毫不相干。通过推论，康实际上主张，既然改制为孔圣人和过去其他的伟大思想家所拥护，那么它在道德上就庶几无错了。通过这巧妙的曲解，康将对至圣先师的认同作为对付反改革者的盾牌。


“托古改制” 的思想原来最早来自康有为。

### 1898 年的维新运动

> 受这些乌托邦式的思想的鼓舞，康有为设想了一个理想的世界，其中: ... 10. 死人火葬，化肥厂建在火葬场附近。
> 
> 
> 康的大胆地动员举人、对经书异于传统的解读，以及对改革的提倡，极大地激怒了保守分子，会试主考官徐桐决定不录取他。由于所有的试卷都是封名的，徐桐只能寻找一份风格怪异及观点异端的试卷——他以为这是康的特点。发榜时，徐桐否定的试卷却是梁的，而康的试卷是与儒家道德和中国传统严格一致的典范。结果，虽然他骗过了徐桐，但在随后的殿试中，考官故意歧视康。

太机智了...

## 隐秩序

### 目标

本书的目的是要探索出一条道路，把我们对 cas 的直觉转变为更深刻的认识。理论是至关重要的。好运偶尔会带来洞见，但并非时时光顾。如果没有理论，我们往往会误入歧途。有了理论，我们就能够把本质与迷人的外表和偶然的特性区分开来。理论给我们提供了前进的路标，使我们明白要观察些什么以及该怎么做。

## 空之境界（上下集合售）

### 尾声

> 
> “你不是SHIKI吧。”
> 
> 他带着哀伤说道，她点了点头。
> 
> “——黑桐，你说，人格这种东西究竟存在于什么地方呢？”
> 
> 像是询问明天的天气，单纯的提问。
> 
> 似乎是用一种对回答不带一丁点关心，随便问问而已。
> 
> 尽管如此，他还是手摸着嘴角，认真思考起来。
> 
> “……这该怎么说呢？人格说到底是一种知性，应该是在头部吧。”
> 
> 在头部，也就是说知性寄宿于头脑之中。
> 
> 他这样说了，她摇头，“不是”。
> 
> “……灵魂寄宿于头脑之中。只要能够让脑髓完全存活，人根本就不需要什么肉体。只需从外部加以电流的刺激可以让仅仅是脑的区域一直做梦活下去——式曾提到过一个魔术师。也和你一样呢。也回答说是在头部。
> 
> 但，那是错误的。
> 
> 举个例子吧，就拿黑桐你这个人来说，你的人格，你的灵魂，能够将之现诸形态的是你的由各种经历累积而成的知性和你的空壳般的肉体。单有孕育知性的脑是产生不了人格的。虽然仅有脑部也可以活下去，但我们必须先拥有肉体才能产生自我意识。有了肉体，与之同步培养出来的就是我们现在所拥有的人格。喜欢自己的肉体的人应该是社交型的人格，而讨厌自己的肉体的人则是内向型的人格。虽然光有知性也可以培养出人格，但那样的人格是无法认识自己的，一般来说心灵就会长成为别的东西。那样的话，已经不能称之为人格，与计算器没有什么两样。
> 
> 如果谁仅仅是一个脑的话，那人就不得不造出一个‘只有脑的自己’的人格。不得不舍弃肉体这个大我，而保存知性这个小我。
> 
> 不是有了知性才有肉体。
> 
> 而是，有了肉体后，知性才得以诞生。
> 
> 然而作为知性根源的肉体，谈不上是知性。肉体只是一种存在而已。但肉体本身也拥有人格。因为我就是与肉体共生，并培育出知性的那个人格。”
> 
> 啊！他不禁提高了声音。
> 
> ……曾经听说过。人是由三个要素构筑而成的生物。精神、灵魂和肉体。
> 
> 如果说精神寄宿于脑，灵魂寄宿于肉体，那她就是SHIKI的本质。
> 
> 被称为SHIKI的，没有心，名为肉体的那个人格。
> 
> 她——两仪式缓缓点了点头。
> 

## 开放社会

### 历史中的反射性

> 黑格尔提出的命题是：思想以辩证的方式发展，并最终导致历史的终结——自由；马克思，或者更确切地说是恩格斯，提出了反命题，认为生产力和生产关系决定意识形态的上层建筑，而后者只不过是物质基础的反映。
> 
> 缺乏一致性使得参与者的偏见成为历史发展中的原动力。易错性——参与者的缺陷、误解以及错误的观念——在历史中扮演的角色与基因突变在生物事件中所扮演的角色一样：它们都在创造历史。
> 
> 人类与其他动物的区别在于人类有选择自己行为动机的能力，而不仅仅是作出选择的能力。
> 
> 结果改变意图，而改变后的意图又会反过来影响结果。
> 
> 有时候人们的意图会与其自利基因的利益相符，但并不总是这样。... 如哈姆雷特的“生存还是死亡”的提问就远远超越了自利基因理论的范畴。
> 
> 演进博弈理论为我们指明了出路：研究适应性行为比假设理性行为更有意义。
> 
> 我积极参与了苏联帝国的解体过程。
> 
> 最初的偏见（共产主义的意识形态）和最初的趋势（管制和压迫）造就了一个封闭的社会。僵化的共产主义教条和严酷的社会环境之间存在一种相互强化的关系。... 整个体系相当完整，与外面的世界隔绝，而且非常僵化。并且事实真相与官方的解释之间存在巨大的距离，大大超过了在开放社会中所能够忍受的程度。
> 
> 强迫人民接受共产主义教条的恐怖气氛正逐渐淡去，取而代之的是一种渐进的腐败过程。各个政府机构都在争权夺利。由于没有任何机构享有真正的自治权力，因此，机构与机构之间只能采取非常原始的手段，以物物交换的形式进行交易。渐渐地，中央计划体制就被这种机构之间相互讨价还价、权钱交易的复杂体制所取代。
> 
> 资本主义造成劳动者与生产资料的分离，而共产主义就是针对这个弊病而产生的。国家占有所有财产，国家是共产党所界定的集体利益的化身，因此共产党必须拥有配置资本的权利。这意味着，资本不是根据经济效益，而是根据半宗教性质的政治教条所配置的。于此最相似的比喻是埃及法老的金字塔建筑：资源的使用程度的确最大化了，但由此而产生的经济效益却是最差的。
> 
> 第一种情况是，认知功能与参与功能之间的反射性互动，使思维与存在不至偏离得太远。... 第二种情况是，参与者的看法与事件真想差距过大并且两者之间不存在接近或相交的趋势。... 第三种情况比较极端，事件的发展非常迅速，以至于参与者的理解力跟不上这一变化，结果有可能使事态失去控制。
> 
> 我首先将人们对历史的认识分为三类，即传统思维模式、批判性思维模式和教条式思维模式。
> 
> 我不得不认识到，封闭社会的瓦解并不必然导致开放社会的自动到来，相反，它可能导致权威的丧失与社会的解体。... 开放社会代表着近似均衡状态，其他选择不仅包括封闭社会的静态失衡，也包括动态失衡的混乱。... 我没有意识到，动态失衡是能够无限延续的。
> 
> 全球资本主义体系现在正处在“动态失衡”的边缘，一部分原因是变化的步伐太快，另一部分原因是缺乏共同的价值观。
> 
> 互联网的步伐更快，价值观更加鱼龙混杂。
> 
> 价值不可能存在一致：判断事物的准则是由判断者本人（或一批人）按照其价值观选择的。换句话说，某种价值观之所以成立，只是因为我们相信它而已... 但是，价值却不受现实的约束。
> 
> 价值由经验铸就，但又不完全取决于经验。共同的价值观是共同经历的结果。
> 
> 可以用博弈论的“囚徒困境”来分析“交易”与“关系”之间的差异：... 这一分析表明，在一次性交易的情况下，出卖对方是理性选择；在长期关系中，忠诚会得到报答。这可以被用于说明，时间越长，合作和忠诚越可能得到发展；这也可以被用于说明，交易取代关系能够破坏合作和忠诚的基础。
> 
> 然而，一个全球化经济可以是任何东西，唯独不可能是一个共同体，在全球经济中，每个人必须追求自己的利益，在激烈的市场竞争中，道德谴责变成障碍，在单纯的交易社会中，每一个人都可以不必为他人着想，而一个完全没有任何羁绊的人可以无所畏惧，为所欲为。

### 金融市场中的反射性

> 这种长久的、显著的趋势让我们误认为自己能够预测趋势的演变，结果反而增加了市场的不稳定性。
> 
> 市场创造了它自己的现实，而不仅仅是基本面的反映，货币当局如果能在恰当的时机进场干预，就能够防止市场过分远离均衡。
> 
> 在投资者心中，上市公司的收益增长率最重要，远比股利、损益之类的基本面更重要。而且投资者也不大关注收益增长是如何实现的，于是，就有一些公司设法利用这些偏见为自己牟利，用自己的股票来收购其他公司。其中有代表性的是高科技国防公司，业绩增长很快，带动股价大幅上涨，他们可以用自己被高估的股票收购股价较低的公司，借此拉高每股的收益。
> 
> 美帝的大公司倾向于收购创业公司而不像腾讯那样招人骂是有原因的。如果总资产中股票大于现金，那么收购可能更划算；反之山寨可能更划算。
> 
> 股票价格上升通过所谓“财富效应”有效地刺激了消费，同时也刺激了人们向高新技术的资本市场投资。繁荣有着加速作用。由于害怕受到股票市场的惩罚，上市公司都想成为技术最先进的企业，它们付不起等待的代价。
> 
> 一个能够正确预测未来的理论，本身就会改变事件的发展进程。不过，这并不意味着一些参与者不能够预测得更准一些。
> 
> 在我积极从事基金管理的日子里，每当我捕捉住以自我强化开始而以自我毁灭告终过程的蛛丝马迹时，都会极度兴奋，就会想巴普罗夫的狗一样，口水直流。
> 
> 即使在我的假设出现错误的情况下，我也经常能够带着利润离场，因为我的严厉的自我批判态度能使我比别人更早地发现我假设中的错误。
> 
> 经济学理论告诉我们，价格上升往往会使需求减少、供给增加。但股票市场并不是这样。
> 
> 市场所采用的假说常常是琐碎的。
> 
> debug 也是，提出一些琐碎的假说，然后通过测试进行验证。
> 
> 随着越来越多参与者不再相信基本面的重要性，技术分析就变得越来越重要。
> 
> 如果一个反射性假说能够确立，它不仅会影响到价格，而且还会影响到基本面。这种情况下即使出现逆转，也不可能再回到开始的地方，这有点像雪崩和海啸。
> 
> 当市场参与者意识到反射性的存在时，如何维持市场稳定呢？答案是，它不可能由参与者自己来维持，维护市场稳定必须成为公共政策的目标。
> 
> 有效市场理论鼓励投资者利用异常价格波动从事套利活动，只要做法得当，不像长期资本管理公司那样失控，其实是有利于市场稳定的。我的观点会得出这样的结论：我们不能对金融市场实行完全自由放任的政策... 如果仅仅是投资者认识到反射性，可能会增加市场波动。
> 
> 这些投资机构过和大型金融机构无论是作为市商，还是作为对冲基金，市场越不稳定，他们越有利可图。
> 
> 海森堡的理论的确是论述不确定性的，但它给出了可以基于统计概率进行检验的预测。... 而我的理论不能给出统计概率，它把每个例子都看作是唯一的历史事件。... 兴衰循环过程中不能导出统计概率的原因在于，金融市场每次都与不同的基本面相互影响。
> 
> 自由市场释放了人类智慧，激发了人们的创造能力，在这一方面，自由市场就像言论自由、思想自由和政治集社自由一样。自由是人类与生俱来的权利，同时也是财富创造的源泉。财富创造是一个动态过程，而均衡理论却是静态的，因此它失去了作为资本主义最主要的优势。市场机制是开放社会的一个必不可少的组成部分，但这不是因为市场能够自动实现均衡，而是因为市场能能够提供参与者选择的自由。
> 
> 技术分析本身是一种外部冲击，因此它更像科学中的炼金术学。因为自然科学方法不适用于社会现象，所以，我们不能因为说技术分析不够科学就抛弃它。
> 
> 社会工程永远也无法取得机械工程所享有的可靠性。

### 经济理论批判·价值问题

> 均衡概念非常有用但也有相当的欺骗性。
> 
> 启蒙运动试图建立理性的权威，因此存在被看作消极的等待被认识的事物。
> 
> 社会应该如何组织？人们应该如何生活？这些问题都不应该仅仅基于市场价格来回答。
> 
> 问题是，经济的、尤其是金融的价值正主导着我们的日常生活。外汇交易商坐在他们的办公桌前大量买卖第三世界国家的货币时，他们并不考虑汇率的波动对这些国家的人民造成什么影响。当然这也不是他们应该考虑的事情，他们只是履行自己的工作职责。然而，如果我们静下心来想一想，我们应该问自己，千百万人民的生活为什么应该由这些外汇交易商来左右？

索罗斯在履行自己工作职责时又曾害多少人家破人亡呢？我也相信他是站在世界顶端试图为全人类谋福利的一个人，人是复杂的。

### 反射性与社会科学家

> 科学家们必须付出巨大的努力，使他们额陈述与陈述所指涉的对象分开，这正是“科学目的”的意义所在。
> 
> 科学的目的是为了知识本身，还是为了别的什么利益？在自然科学中，根本不存在这样的问题，因为在自然科学中必须首先取得知识，然后才能实现利益。但是，在社会科学中，事情并非如此，因为反射性提供了一个捷径，使能够影响人们行为的理论不必是正确的，事实作为独立准则的可靠性同时也受到损害，这样一来，要提出自我实现的 预言就有了可能性。
> 
> 一种理论的影响越大，就似乎越有效，卡尔·马克思就是有意识地这样做的，这使得他对历史的解释很难被驳倒。
> 
> 通过推销错误的理论和错误的预言，一些人在金融市场上发财致富，在政治中获得权力。而且，一旦他们披上科学的外衣，成功的概率就更大
> 
> 在自然现象方面，只有当理论成立时，科学方法才是有效的。但是，在社会、政治和经济问题上，不能成立的理论也可以成为有效的理论，即无效的理论一样可用。
> 
> 卡尔·波普认识到了意识形态利用科学声望去影响历史发展进程的危险，马克思主义就是一个特别危险的例子。为了防止科学方法被滥用，波普主张不能被证伪的理论就不能称之为科学。

想来业内很多传道师卖的万灵药乃至投机分子的市场炒作乃至所谓内幕消息，都不可避免的含有一份自我实现预言的成分。这可能也正是科学家受尊敬而他们被讨厌(或者嫉妒)的原因。

## 中国近代史八种

### 鸦片战争之役评论

> 以市侩仆役，而能尽力国事，皆有其难能可贵者。而论者一切加以丑诋，制当局之肘，灰任事之心，此等议论既多，往往国是因之动摇，以道谋而坏大计。

### 鸦片战争前国内情形

> 明清两代，所谓正途者，率由科举出身，科举本属良法，唯在唐宋时代，已不能尽切于实用，至明清又将前此分科，悉并为一，事实上科举已非普通人所能应，乃不得不放弃一切，而只看几篇四书文，而其所谓四书文者，又别成为一种奇异而不合理之体制。既四书亦不必真通，而其体制，却颇足消磨精力，士人遂至一物不知。

### 中西的初期交涉

> 
> 1. 历代东西交通，所贩卖的，大概是珍奇之品，不见可欲，使心不乱，见之自然适得其反。而且交广之地，天高皇帝远，肆意诛求，究难发觉。所以通商地方，或专司通商事务的官吏，特别容易贪污。
> 2. ... 客子畏人，则千古一辙。在外商无力争执，中国官吏不能秉公判断的情形下，中国商人，自然要极其力之所能至，以榨取外商。
> 
> 
> 清朝曾约荷兰夹击台湾，所以许其每隔八年，到广东来通商一次，船数以四只为限。
> 
> 通商之事，为官与商大利之所在，而于普通人民则无利... 官吏既惧外商与人民冲突，引起事端，又溺于利不能绝。

### 中国近代文化史部编 学校篇

> 盖官立学校，士多以利禄而来，私家所设之书院则不然，故其效较显著。然至讲学之风盛，而依附者咸为名誉之所归，则来者不复皆潜修之士，重以党祸之激荡，遂至胥天下而有毁学之祸矣。

### 太平天国的兴亡

> 秀成广西藤县人，和陈玉成同乡。... 自天京内杠后，朝政紊乱，军事亦散漫，全赖秀成一人支柱，面折廷争，有古大臣风度。运筹决策，临敌指挥，尤无愧于古名将。其人实为文武全才，非湘淮诸将所能及。其不嗜杀人之风，尤使湘淮君诸将号称儒生的，对之生愧。
> 
> 秀成破江南大本营后，礼葬张国梁。破杭州后，礼葬巡抚王有龄。满城中的满兵，均释弗杀。得苏、常后，乱民肆行抢掠，旬日未止。左右请剿办。秀成说：“人民苦于兵伐，以至于此，何忍加兵？”自带几十个人，巡行乡镇，乱民千百人，持并相向。秀成说：“我是忠王。”加以抚谕。皆释兵罗拜，一日而乱定。...在方山时，为村民所获。一人手剑要杀村民，秀成还止之道：“此天绝我，勿伤良民。”村民中一人曾于秀成军中供担役，还跪而自罪，说：“此忠王也，爱百姓厚，吾齐当护之。”... 其爱惜军民如此。天京失陷时，饥军十余万人，无一降者，良非偶然。
> 
> 忠王的仁义如此，反观清朝，则其嗜杀，殆非想象所能及。
> 
> 总而言之，天王之为人似只长于宗教，而短于政治及军事。天王手下，亦无此等人才，只有一个李秀成，而用之太晚，且不能事，实为太平天国失败最大的原因。

## 喀提林阴谋 朱古达战争

### 凯撒：如何处理喀提林阴谋团伙人员的的演说

> 
> 任何恶劣的裁判最初的动机都有可能是基于善意。可是，一旦权力落入不成熟、不公正的人手中，再好的动机也可能导致最坏的结果，如果一开始就把罪证不充分的人定罪处刑，很可能会连累更多清白无辜者牺牲。
> 
> 斯巴达人大胜雅典时，对 30名曾压迫雅典的上层人士，强烈要求不经审判就处以这些反体制者死刑。雅典公民觉得他们罪极至此也就欣然同意了。然而除了这 30名压榨者之外，却也连累了其他无辜者，他们也受池鱼之殃被判了刑，于是城内一片风声鹤唳，公民们才惊觉自己的浅薄，以至于今天成为他人的奴隶。
> 
> 我们生活于或许不至于如此无知的时代，可是当初开始铲除当权派苏拉一派时，不是也有很多罗马公民异口同声地谴责他罪该万死吗？这正是罗马人心开始荒芜的征兆。利欲熏心的一些人，不仅想把豪宅占为己有，连一丝一缕都不放过，于是便密告屋主，使苏拉的 “死刑黑名单 ”更洋洋大观。原本以为事不关己的人，第二天赫然发现自己也在黑名单之列。这种情形是苏拉派的人沉溺于物质享受，以至于咎由自取。
> 
> 如果这位执政官西塞罗是这无的放矢之人，那我大可放心。然而在大都市里，有许多性格相异的人共处，如果别的执政官在别的案例中，对矫饰的阴谋也信以为真而滥用职权，会导致什么样的后果呢？如果开此先例，其他执政官会以有先例可循为由，动用 “元老院最终劝告 ”这把尚方宝剑，那还有谁可以阻止悲剧发生呢？

在老家聊天感觉纪委的权力已逆天啊... 想起来凯撒这段演说

## 政治秩序的起源

### 政治的生物基础

> 
> 人类从未在无社会状态中生存。
> 人类天生喜欢制定和遵循规范或规则。
> 人类遵循规则的本能，往往基于情感，而非理性。
> 人类天生具有暴力倾向。
> 人类天生追求的不只是物质，还有认可。

### 红脸野兽

> 人类之遵循规则，主要根植于情感，并不依靠理性过程。
> 
> 如必须跟伙伴不时谈判新规则，我们就会陷入瘫痪，无法从事例行的集体行动。
> 
> 制度规则是很“黏糊”的，它抗拒改革，变成政治衰败的主要根源之一。

### 中国第一

> 我把中国当作国家形成的范本.... 中国是开发国家制度的先行者。
> 
> 希腊和罗马建立的古典共和政府先例，受到以后很多社会的模仿，包括热那亚和威尼斯的寡头共和国、诺夫哥罗德、荷兰联合省。但这种政府有致命的缺陷：后代学者，包括很多深思该传统的美国创始人，都有广泛认知：古典共和政府不好扩充。
> 
> 如要研究国家的兴起，中国比希腊和罗马更值得关注，因为只有中国建立了符合马克斯·韦伯定义的现代国家。
> 

### 第一章 政治的必须

> 
> 为什么阿富汗、印度丛林地区、美拉尼西亚岛国、中东部分地区，至今仍是部落组织？
> 为什么中国的预设统治者是强大的中央政府，而印度在过去三千年历史中，除了短暂时期，从没见过如此高度的中央集权？
> 为什么几乎所有成功的现代威权政体——像韩国、新加坡、中国大陆、台湾地区——都集中在东亚，而不在非洲或中东？
> 为什么民主制和齐全法制得以在斯堪的纳维亚生根发芽，而处于类似气候和地理条件下的俄罗斯，却产生了不受节制的专制主义？
> 为什么在过去一个世纪，拉丁美洲国家反复遭遇高攀的通货膨胀和经济危机，而美国和加拿大却没有？
> 

### 第一章 政治的必需

> 尼日利亚生产的电影，数量可与印度闻名的宝莱坞媲美。但必须尽快赚回报酬，因为政府无力保障知识产权，无法避免其产品的非法复制。

## 现代性的后果

### 信任与本体性安全

> 所以，信任消除了在时间和空间上的距离感，因此也阻断了种种存在性焦虑，而如果听任这类焦虑发展定型的话，它们就有可能成为在情感与行为方面持续存在并贯穿整个生活的苦闷之源。

### 主编的话

> 既然儒学作为一种本真的心向，正是要从对现世生活的终极肯定出发，把人间问题当作全部灵感的源头。

## 失去的胜利

### 1943-1944年的防御战

> 希特勒以异常冷淡、不屑一顾的神情说道：“请吧。”我说：“我的元首，必须清楚，之所以造成我们目前面临的这种危急态势，并不仅仅归咎于敌人无可争议的优势，也是因为我们的指挥方式。”当我说出这些话时，希特勒立即拉长了脸，表情严肃起来。他用一种令人窒息的目光死盯着我，他现在想用他的意志封住我的嘴。我还不曾见过哪一个人的目光能表达出如此强烈的意志力量。一位派驻柏林的大使曾在回忆录中描述过他第一次见到希特勒时的印象。其中，他也特别强调了希特勒的眼睛产生的强烈效应。确实如此，在他那张粗糙的脸上，唯一具有吸引力的，也是最具表现力的，大概就属那双眼睛。现在，他死死盯着我，好想要用他的眼睛将对手击倒在地，令其屈膝。
> 
> 关于为东线战场任命一位总司令的问题，希特勒还是那句话，没有第二人享有他一样的权威。他大声地对我吼道：“元帅们连我都不服从！您以为他们会服从您吗？必要的时候，我可以撤他们的职，没有人具有这样的权威。”我回答，我下达的命令都得到了贯彻执行。他没再说话，谈话就此结束。

### 1942-1943 年在南俄的冬季战局

> 指挥的范围越广，越需要有预见性。穿越的地域越广，需要机动的部队越庞大，一个决断生效的时间也就会越漫长。对这种长远的预见，希特勒是不感兴趣的——至少在军事领域。当他的愿望与现实不符时，他就不愿承认事情的结局。由于他无法反驳，所以就只有避而不谈。
> 
> 在第一次世界大战时期，一个集团军距离其铁路终点最多不会超过 150 公里。这一数字在第二次世界大战中已不适用了，我们在西线和东线的作战中深有体会。此外，苏联人是快速修建铁路的大师。
> 
> 他在坚持其观点方面是何等的坚韧不拔，从一件小事上可见一斑。当他最终批准我的作战意图之后，我向他告别刚要离开他的房间时，他把我喊回来，说道，他当然不想更改他刚才的决定，但他十分急切地要求我再考虑一下，是不是可以再等上一段时间，或许数天后顿河洼地解冻，我们仍可以留在顿河——顿涅茨河弓形地带。但我依然坚持自己的观点。不过，我对他说，等我回去后，如果晚间的态势不需要我立即下达命令，可以等到第二天中午再下达。

### 希特勒执掌军队最高指挥权

> 
> 在西线使用“A”集团军群的决定就表明，他对于作战的可能性还是有一定的眼力。这种眼力常常会在某些军事外行人身上表现出来。否则，在军事历史上，就不会有一些王侯成为杰出的军事指挥官了。
> 
> 此外，希特勒具有广博的知识和惊人的记忆力，在技术和所有装备问题上有创造性的想象力。他对于哪怕是敌人的新式武器性能，以及敌我双方的生产数量都如数家珍，其熟悉程度令人咋舌。每当他要拒绝听取对方的解释时，他就会搬出他的老一套加以抵挡。毫无疑问，他在这些问题上的过于自信又带来灾难性的后果。由于他的干预，空军未能得到持续和及时的发展。在火箭助推和原子武器领域，也是由于他的干预而进展缓慢。
> 
> 由于对所有技术问题都感兴趣，他常常对技术手段估计过高。譬如，在只有使用大兵团作战才恢复态势的地方，他却认为，只投入几个自行火炮营或新型虎式坦克即可。
> 
> 从总体上看，他缺少的是建筑在经验基础上的军事能力，这是他的直觉替代不了的。

### 封底

> 由于新技术在作战中的应用以及大兵团作战的出现，军队的活动领域日益广阔，战局变化更加迅速，即使最有才干的统帅和指挥官也无法洞察作战进程的每一个细节，指挥级别越高，这种现象越突出。为此，各级指挥官应尽量少下达内容具体、约束力强的命令，多下达目标明确、内容简洁的指示，以便给下级较大的自由。

### 第七章 两次战局间

> 在德国陆军裁剪和空军被牵制在对英作战的情况下，苏联即使不参展，也会走上政治讹诈的道路。

### 第七章 两次战局间

> 英国政府首脑丘吉尔是个极为好斗的斗士，是个将战斗视为唯一手段的人，一心只想着如何赢得胜利，而不会超越军事目标看到政治前景。

《西洋世界军事史》对丘吉尔乃至罗斯福也有类似的批评

### 第八章 装甲兵突袭

> 不管怎么说，在这几周里，第 16 集团军的战斗——第 56 装甲军也参加了——不断取得胜利。9 月 16 日，最高统帅部就宣布了苏第 11 、27 和 34 集团军被击溃的消息。其中 9 个师被歼灭，9 个师遭重创。
> 
> 尽管如此，我们对于取得的这些战果仍缺乏一种真正的满足感。因为我们直到现在仍然不知道，我们的作战目标到底是什么，眼下的这些作战究竟服务于什么样的更高一级的目标。想我们当初突袭迪纳堡时那样的迅猛突击，无论如何不会再度出现了。我指挥第 56 装甲军的时日也即将结束。

### 第二章 作战形势

> 除了毕苏斯基元帅和很少的几位客观的政治家之外，在波兰没有一个人能深刻认识到波兰所面临形势的危险性，而这种形势完全是由于波兰对邻国苏联和德国的不合理的领土要求所导致的。波兰只有3500万人口，其中2200万是波兰人，其他则为德国、乌克兰、白俄罗斯和犹太等少数民族，都不同程度地受到波兰人的压迫。
> 
> 此外，在德国（和苏联）在军事上处于弱势的年月，波兰依靠与法国的结盟，一直梦想着进攻德国。他们曾设想，对孤立的东普鲁士或上西里西亚实施突然袭击。他们甚至梦想取道波森—奥得河畔法兰克福这条最短的路程，直取柏林；或者在占领上西里西亚后，沿奥得河西岸，进军德国首都。
> 
> 波兰新组建的军队是由法国人培养训练出来的。因此，他们不大可能继承快速、机动的作战方式，而是接受了法国自第一次世界大战以来由阵地战而派生出来的作战思想。

波兰好命苦...

### 第一章 暴风雨前夕

> 他是一位具有战略天才的军人，能在瞬间抓住问题的本质，而且也只关注本质问题。所有杂七杂八的事情他全然不予过问。龙德施泰特大将是个人们习惯称之为老派贵族的那种人。他身上的风度曾使那个时代的人们生活的丰富多彩、兴趣盎然，可惜现在已经不时兴了。但这位大将仍有一种魅力，甚至连希特勒都为之倾倒。希特勒对这位大将似乎有一种偏爱，这种偏爱已经达到惊人的程度，以至于在他将这位将军两次免职以后，仍有一丝余念。也许希特勒从龙德施泰特身上感觉到了一个已经逝去的时代，这是他难以理解和没有经过的时代，对于那个时代的内部氛围和外部环境，他从未领会过。

## 了不起的盖茨比

### 第83页

> 小小的蒙特内罗格王国！他说这个词的时候提高了音量，并且微笑地点点头。这微笑意味着他了解蒙特内罗格那段艰难的历史，同情蒙特内罗格人民的英勇斗争。这微笑也表示他充分理解这个民族的一连串处境，正是这处境让它从温热的小小内心向他发出如此敬意。
> 
> 我的怀疑此刻已被惊讶淹没，就像在迅速翻阅十几本杂质一样。

### 第一章

> 他对未来的人生有着高度的敏感，仿佛与一台能够预测一万英里以外地震情况的精密机器连接在一起。这种敏感与美其名曰“创造性气质”的多愁善感毫不相干——它是一种总是充满希望的美好天赋，是一种带有浪漫色彩的聪颖气质。这种气质，我从未在别人身上见过，以后也不太可能见到了。

### 第三章

> 这大都会的黄昏很迷人，可我偶尔会有挥之不去的孤寂，每当看见那些囊中羞涩的年轻职员在商店橱窗之前徜徉，挨到晚饭时间形影相吊地去餐厅填肚子，我知道他们也深有同感——我们这些薄暮的年轻职员啊，正在虚度一生中最灿烂的年华、一夜中最美好的时辰。


不是这个译本的，只是记一下...

### 第五章

> 美国人，虽然愿意甚至渴望去当奴隶，但一向是坚决不做乡巴佬的。

### 第一章

> 至于汤姆，“在纽约有女人”这种事真的不令人吃惊，出乎意料的是他竟会被一本书弄得如此沮丧，某种东西让他开始关心陈腐的思想，仿佛强壮的体格赋予他的自尊自大已不再滋养他那颗傲慢专断的心了。

## 许倬云说历史：台湾四百年

### 郑氏领台对大陆及台湾的深远影响

> 郑氏的补下，大部分比较娴熟于边缘社会的庶民文化。当然，中国庶民文化的基础，一向与精英文化有密切的关系。但是，一旦与精英文化脐带切断，庶民文化便不容易再有机会茁长为新的精英文化。所以郑氏统治的台湾，正如海外各地的华侨社会，其庶民特性非常强烈。庶民文化往往具有地方性的特色。在台湾生根的闽南文化，具有开拓社会常见的地区性和排他性。

### 汉人与原住民的融合

> 汉人从原住民处取得土地，手段不一，有以武力强夺的，有以契约骗取的，有以廉价半哄半骗取得的，也有个别的例子，是经过婚姻关系取得继承权。

## 大规模分布式存储系统

### 质量保证、运维及实践

> 通用分布式存储系统不是设计出来的，而是随着应用需求不断发展起来的。它来源于具体业务，又具有一定通用性，能够解决一大类问题。通用分布式存储平台的优势在于规模效应，等到平台的规模超过某个平衡点时，成本优势将会显现。
> 
> 通用分布式存储平台主要有两种成长模式：
> 
> 1. 公司高层制定战略大力发展通用平台。这种模式前期发展会比较顺利，但是往往会因为离业务太远而在中期暴露大量平台本身的问题。
> 
> 2. 来源于具体业务并将业务需求通用化。这种模式会面临更大的技术挑战，但是团队成员反而能在这个过程中得到更多的锻炼。

## C++网络编程（卷1）

### 第6章 同步事件多路分离

> 我们可以将反应式服务器模型看做“轻量级”的多任务：一个单线程服务器以轮流方式和多个客户通信；线程和同步机制的开销和复杂性在此不存在。

### 5.3 进程/线程创建策略

> 另一个“急式创建”策略是通过 Leader/Follower 模式来管理线程池，如图 5.3(2) 所示。这个模式定义了一个高效的并发模型；采用这一模型，多个线程轮流共享一组事件源，以对这些事件源上发生的服务请求进行检测、多路分离、分发和处理。如果对在处理线程池中的请求没有“同步”或“排序”的限制，则用 Leader/Follower 模式代替 Half-Sync/Half-Async 模式可以提高性能。

做法跟子进程抢着 accept 的做法很相似，除非有安排优先级的需求，直接让内核来调度更加简单，而且效果更好。

## 在约定的场所

### 第212页

> 现在是一个劲往里面塞知识的吧？以致人生智慧部分的学习难免稀里糊涂。日本人尤其严重，从上小学就开始“用功”。用功这东西是同人生毫无关系的东西。

## 中国的宗教

### 社会学的基础之一

> 中国和埃及与美索不达米亚一样，骑士战斗的技术从未导致像荷马时期的希腊或西方中世纪时那么强烈的个人主义式的社会制度。
> 
> 自从封建体制崩溃后，在民间信仰里，上天就被视为人民抗议地上的在位者理想的控诉法庭。在中国，此一官僚制的观念所导致的结果是：对于被压迫者与贫困者的诅咒特别畏惧。
> 
> 愤怒——耶和华最重要的属性。

### 导言

> 直接支配人类行为的是利益，而不是理念。但是，由理念所创造出的世界图像，常如铁道上的转辙器，决定了轨道的方向。在这轨道上，利益的动力推动着人类的行为。
> 
> 历史的步伐时快时慢，然而其深层的结构或力量却只能从一个长时期中来了解及掌握。
> 
> ... 对下一代的期望仍在中举做官，而土地更是被当做一切财富中最为可靠的一种。这种模式的“经营”，在韦伯看来，只能算“掠夺式的资本主义”，而与西方近代理性的、资产阶级的资本主义恰好背道而驰。
> 
> 话说回来，尽管韦伯认为中国家族伦理的强固存在，是妨碍资本主义萌芽的重大因素之一，他并没有说这样的一种组织及其伦理就不能接受资本主义——至少在技术层面上。

## 了不起的盖茨比

### 最后一章

> 
> 他把书的到底翻开，掉转过来让我看，在最后的空白页上端端正正地写着“时间表”几个字和一九零六年九月十二日的日期。下面是：
> 起床
> 上午6:00
> 哑铃体操及爬墙
> 6:15－6:30
> 学习电学等
> 7:15－8:15
> 工作
> 8:50－下午4:30
> 棒球及其他运动
> 下午4:30－5:00
> 练习演说、仪态
> 5:00－6:00
> 学习有用的新发明
> 7:00－9:00
> 个人决心
> 不要浪费时间去沙夫特家或（另一姓，字迹不清）
> 不再吸烟或嚼烟
> 每隔一天洗澡
> 每周读有益的书或杂志一份
> 每周储蓄五元（涂去）三元
> 对父母更加体贴
> “我无意中发现这本书，”老头说，“真是从小见大，是不是？”
> “真是从小见大。”
> “杰米是注定了要出人头地的，他总是订出一些诸如此类的决心。你注意没有，他用什么办法提高自己的思想？他在这方面一向是了不起的。有一次地说我吃东西像猪一样，我把他揍了一顿。”
> 他舍不得把书合上，把每一条大声念了一遍，然后眼巴巴地看着我。我想他满以为我会把那张表抄下来给我自己用。

## 希腊罗马名人传（全三册）

### 梭伦

> 叹汝结理何忧伤，一树梨花压海棠！
> 
> 疆域广大兮能纳倍增之人口

....

### 梭伦

> 法律必须看起来合理可行，如果制定法律者的企图是要惩罚极少数要修正法律的人，而不是要惩罚大多数未能达成法律要求的人，这就不是合理可行的法律。

## 新教伦理与资本主义精神

### 附录 15

> 罗德兹曾留下一段足以代表他当年万丈豪情的话语：“满天星辰... 这些广阔的世界仍未有人踏足。可以的话，我但愿能吞并其他行星”。

## 自私的基因

### 好人终有好报

> 一个看似“零和博弈”的争议也许只需要假如少许善意，便可以转化为双方互利的“非零博弈”。
> 
> 足球就是一场零和博弈... 这在 1977 年的英格兰足球联赛中发生过。联赛中的队伍们被分成四级。俱乐部在比赛中相互对抗，以积分决定它们的晋级或降级。甲级联赛声名远播，俱乐部可以趁机从巨大观众群中捞得丰厚利润。在赛季结束时，甲级中排名最后的三个俱乐部则降级，进入下一赛季的乙级联赛。降级是一个惨痛的命运，值得不惜一切去避免。
> 
> 少年jump的记分规则也跟这挺像的。
> 
> 统治阶级的话只要想办法搞一个让下面的人专心搞零和博弈的规则就好了吧... 但是试图避免下面的不安分分子把游戏变成非零和博弈而竭尽的心力却很容易使得系统过分复杂。
> 
> 在保持相互信任的稳定状态时，预见性与仪式感十分重要。

想起来杨威利跟吉格飞见面的那段：“礼仪多是狗屎，但有时也是十分必要的”。

### 进犯行为：稳定性和自私的机器

> 如果把对以往搏斗情况具有一般记忆的动物，如蟋蟀，集中在一起组成一个与外界不相往来的群体，过一段时间之后，很可能会形成某种类型的统治集团。
> 
> 习惯于赢的个体就越是会赢，习惯于输的个体就越是要输。实际情况就是如此。即使开始时个体的胜利或失败完全是偶然的，它们会自动归类形成等级。这种情况附带产生了一个效果：群体中激烈的搏斗逐渐减少。

## 学龠

### 近百年来诸儒论读书

> 当时经学正盛，而学者已懒看全经，其流弊可想。只为专以读书为我作文题目，则极其所成，亦不过为一追遂时趋之名士，却说不上真知学问。
> 
>      陈氏谓：
>  
>      浮躁者其志非真欲治经，但欲为世俗所谓名士耳。彼徒以讲经学为名士，则其所作经解，不过名士招牌而已。即使解经可取，而其心并不在圣贤之经，此不得谓之读经书之人也。
> 
> 而且博士之学，正因为其不究大义，只从难解难考处留心，所以又渐渐养成了一种骄矜之心，其读书似乎只在寻求古人罅隙，有意和古人为难，却并不能把前人所著书平心静气从头细读。

## 中国政治思想史

### 春秋战国之学术思想

> 一种学术思想，既经盛行一时，到后来虽若成为过去，其实早已深入人心中，成为构成他人格的一部分了。这是历代的学术思想，都是如此的。春秋、战国的学术思想，其年代较早，其影响于国民的性格，和社会上的事实，自然更深，所以这时代的学术思想，实在是中国文化很重要的一个渊源。

### 中国政治与中国社会

> 明世，乃又废之而代以殿阁学士。清代，内阁之权，又渐移于军机处。总而言之，政治上正式的几关，其权恒日削，而皇帝的秘书和清客一类的人，其权恒日张。
> 
> 秦汉时的县，实为古代的一国，此乃自然发达而成的一个政治单位。
> 
> 
> 总而言之，中国政治上的制度，是务集威权于一人，但求其便于统御，而事务因之废弛，则诸置不问，这是历代政治进化一贯的趋势，所以愈到后世，治官的官愈多，治民的官愈少，这是怪不得什么一个人的。
> 
> 
> 因为政治上有这种但求防弊的趋势，就造成了一种官僚的习气。官僚政治的情态是（一）不办事，（二）但求免于督责，（三）督责所不及，便要作弊。不办事的方法，是（甲）推诿，（乙）延宕。推诿是干脆不办。延宕是姑且缓办，希冀其事或者自行消灭，或可留给别人办。官场的办事，所以迟缓，就是为此。但求免于督责，则最好用俗话所谓“说官话”的手段。表面上丝毫无可指摘，实际上完全不是这么一回事。官场的办事，所以有名无实，即由于此。
> 
> 人的气质，是多少和其所从事的职业，有些关系的。唐朝的进士试诗赋，其性质多近于浮华。明、清的科举重四书义，四书注则采用朱注，所以其士子的性质，多近于迂腐。空疏则不知官吏的职责，迂腐则成为改革的阻力。清朝后来所以政治上绝无可用之才，而所谓绅士，多成为顽固守旧之魁，即由于此。

### 先秦的政治思想

> 假使先秦诸子而真见用于世，见用社会，而真本其所学以行事，具结果，怕是会弄得很糟的。我们现在，且先说一句总批评，那便是：先秦诸子的思想，都是落伍的。
> 
> 这话怎样说呢？要说明这句话，先得知道先秦诸子所代表的，是哪一个时代的思想。我以为：
> 
> 农家 - 代表神农时代的思想
> 道家 - 代表黄帝时代的思想
> 墨家 - 代表夏禹时代的思想
> 儒家、阴阳家 - 代表西周时代的思想
> 法家、兵家 - 代表东周时代的思想
> 
> 这所谓代表某一时代的思想，只是说其思想是以那一个时代为根据而有所发展，并不是说他完全是某一个时代的思想，不可误会。

### 第四讲 先秦的政治思想

> 当东周之世，又是贵族阶级崩溃，官僚阶级开始抬头的时代。任用官僚，废除贵族，怕除贵族之外，没有不赞成的。

官僚在当时也是使政治焕然一新的一股力量了，凯撒建立帝国之伟大，该也正是官僚体系的新建和贵族失势的开始。

## 列克星敦的幽灵

### 沉默

> 
> 
>  “我怕的不是青木那样的人。青木那样的人哪里都有，这我早已想通了。一碰见那样的
> 人，无论如何我都避免与之发生关联，总之就是逃，就是说逃为上计。这并没有多难。那种
> 人一眼就能看出。同时我也认为青木还是相当有两下子的，伏身窥伺时机的能力、准确捕捉
> 机会的能力、恰到好处地把握和煽动人心的能力——这样的能力并非任何人都具有的。对此
> 我固然讨厌得想吐，但我承认此乃一种能力。 
> 
> “不过我真正害怕的，是那些毫无批判地接受和全盘相信青木那类人的说法的人们，是
> 那些自己不制造也不理解什么而一味随着别人听起来顺耳的容易接受的意见之鼓点集体起舞
> 的人们。他们半点都不考虑——哪怕一闪之念——自己所作所为是否有错，根本想不到自己
> 可能无谓地、致命地伤害一个人，无论自己的行为带来什么后果他们都不负任何责任。真正
> 可怕的是这些人。我半夜梦见的也是这些人。梦中我只能沉默。梦中出现的人不具有面孔。
> 沉默如冷水一般迅速渗入一切，而一切又在沉默中黏糊糊地溶为一摊。我也在那里边溶化，
> 怎么喊叫都无人听见。” 

## 湖上闲思录

### 再跋

> 此三十年中，对文化问题又续有撰述。两年来，双目失明，不能见字。报章书籍，皆已疏隔。惟尚能捉笔写稿。方撰《中西文化比较观》一书，不谓积稿已盈二十篇以上。大体皆杂忆平日心中存想，以不翻书，不引据材料为原则。忽一日，三民书局主人来索余《湖上闲思录》，将以再付剞劂。因由内人诵读一过，余逐篇听之。初不意余方今所撰，正多旧来见解，并有前所发得，而今已漫忘者。自惭学问未有进步，而国事世风，每下愈况。回忆当年太湖边一段心境，亦已有黄鹤一去不复返之状。抚今追昔，感慨何似。
> 

## 人月神话

### 再论“没有银弹”

> 
> 《没有银弹》提出了全力解决复杂性问题的方法，这种方法可以在现实中取得十分乐观的进展。它提倡导向软件系统增加必要的复杂性：
> 
> - 层次化，通过分层的模块或者对象；
> - 增量化，使系统可以持续地运行。
> 
> 
> 也是十分乐观的论断了。
> 
> 
> Coqui也提出相似的主张：系统化软件开发方法的发展是为了解决质量问题（特别是避免大型的灾难），而不是出于生产率方面的考虑。

### 第35页

> 文中定义的开发团队在很多方面满足了迫切性的需要。十个人，其中七个专业人士在解决问题，而系统是一个人或者最多两个人思考的产物，因此客观上达到了概念的一致性。

想起来linus对git的设计，神的概念一致性，然后少数开发人员去实现/解决问题

## 现代体系结构上的UNIX系统

### 高速缓存

> 要读取完整的一行，高速缓存可能需要额外的存储器周期，也可能不需要，这取决于主存储系统的设计。为了获得最佳性能，主存储系统应该以高速缓存行的大小为单元传送数据，这称为突发模式(burst mode)的传送.
> 
> 将指令缓存与数据缓存分离，能够有效地使高速缓存的带宽加倍。
> 
> 考虑使用自身能够修改代码的程序的情形，比如LISP解释器... 虽然可能让系统中的硬件自动保持指令高速缓存和数据高速缓存的同步，但是却很少这样做。

自修改代码的程序中指令缓存和数据缓存的一致性，就属于操作系统或者vm开发者的工作了。

## 虚拟机

### 第185页

* 栈上替换(On Stack Replace): 当执行内联（或者任何其它优化）时，将最近优化的代码插入到程序流中的一般做法是在下次调用某方法时进行优化。不过，这种做法要等到下次调用这个方法时才有好处。极端的情况发生在程序由一个含优化代码的单循环所支配，这个循环被执行数百万次。在这种情况下，可能再也不会调用这个优化的方法，因此如果想要得到任何好处，就必须早点插入优化的代码。

* 在许多情况下，栈上替换的稳态性能收益是相对小的。

### 第184页

这一节译得不好，基本靠猜。

> 守护（在图中用斜体字显示）检查A[i]看其是否为零。
> 
> "守护" 还出现了两三次，瞅了它三分钟想到原文一定是 "guard"。
> 
> 前述的虚拟方法调用的内联方法本质上是一种多版本形式。多版本有两种（或者多种）代码版本，并且一个版本的选择取决于运行时信息，如数据的值或类型信息。对于内联的方法，一个版本是被内联的方法代码，另一个版本是一条invokevirtual指令，而守护选择其中一个版本。

开头还算讲得明白，看到最后一句就完全摸不着头脑了。

大家觉得 "guard" 怎样译比较好？

## 朱熹的历史世界

### 自序二

> “颂其诗，读其书，不知其人可乎？是以论其世也。”在我开始写这篇序文时，孟子这句名言是我的唯一指导原则。

